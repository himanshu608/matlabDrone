function C = coriolis2(psi,psi_dot,S)

% xb = psi(1);
% yb = psi(2);
% zb = psi(3);
r = psi(4);
p = psi(5);
y = psi(6);
q1 = psi(7);
q2 = psi(8);

% xb_dot = psi_dot(1);
% yb_dot = psi_dot(2);
% zb_dot = psi_dot(3);
r_dot = psi_dot(4);
p_dot  = psi_dot(5);
y_dot  = psi_dot(6);
q1_dot  = psi_dot(7);
q2_dot = psi_dot(8);

l1 = S.l1;
l2 = S.l2;
m1 = S.m1;
m2 = S.m2;

Ix = S.Ib(1);
Iy = S.Ib(2);
Iz = S.Ib(3);
% 
% C = [0, 0, 0, ((l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2))*(r_dot*sin(r)*sin(y) - y_dot*cos(r)*cos(y) + p_dot*cos(p)*cos(y)*sin(r) + r_dot*cos(r)*cos(y)*sin(p) - y_dot*sin(p)*sin(r)*sin(y)))/2 - (q1_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 + (l2*m2*q2_dot*cos(q1 - q2)*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r)))/2, (l1*m1*q1_dot*cos(y)*sin(p)*sin(q1))/2 - (l1*m1*p_dot*cos(p)*cos(q1)*cos(y))/2 - l1*m2*p_dot*cos(p)*cos(q1)*cos(y) - (l2*m2*q2_dot*cos(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2 + l1*m2*q1_dot*cos(y)*sin(p)*sin(q1) + (l1*m1*y_dot*cos(q1)*sin(p)*sin(y))/2 + l1*m2*y_dot*cos(q1)*sin(p)*sin(y) - (l2*m2*p_dot*cos(q1 - q2)*cos(p)*cos(y))/2 + (l2*m2*q1_dot*sin(q1 - q2)*cos(y)*sin(p))/2 + (l2*m2*y_dot*cos(q1 - q2)*sin(p)*sin(y))/2 - (l1*m1*q1_dot*cos(p)*cos(q1)*cos(r)*cos(y))/2 - l1*m2*q1_dot*cos(p)*cos(q1)*cos(r)*cos(y) + (l1*m1*p_dot*cos(r)*cos(y)*sin(p)*sin(q1))/2 + l1*m2*p_dot*cos(r)*cos(y)*sin(p)*sin(q1) + (l1*m1*r_dot*cos(p)*cos(y)*sin(q1)*sin(r))/2 + l1*m2*r_dot*cos(p)*cos(y)*sin(q1)*sin(r) + (l1*m1*y_dot*cos(p)*cos(r)*sin(q1)*sin(y))/2 + l1*m2*y_dot*cos(p)*cos(r)*sin(q1)*sin(y) - (l2*m2*q1_dot*cos(q1 - q2)*cos(p)*cos(r)*cos(y))/2 + (l2*m2*p_dot*sin(q1 - q2)*cos(r)*cos(y)*sin(p))/2 + (l2*m2*r_dot*sin(q1 - q2)*cos(p)*cos(y)*sin(r))/2 + (l2*m2*y_dot*sin(q1 - q2)*cos(p)*cos(r)*sin(y))/2, y_dot*(m2*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - m2*cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l1*m1*cos(p)*cos(q1)*cos(y))/2) + (q1_dot*(l2*m2*sin(q1 - q2)*cos(p)*sin(y) - l1*m1*cos(q1)*cos(y)*sin(r) - 2*l1*m2*cos(q1)*cos(y)*sin(r) + l1*m1*cos(p)*sin(q1)*sin(y) + 2*l1*m2*cos(p)*sin(q1)*sin(y) - l2*m2*cos(q1 - q2)*cos(y)*sin(r) + l1*m1*cos(q1)*cos(r)*sin(p)*sin(y) + 2*l1*m2*cos(q1)*cos(r)*sin(p)*sin(y) + l2*m2*cos(q1 - q2)*cos(r)*sin(p)*sin(y)))/2 + q2_dot*((l2*m2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*m2*sin(q1 - q2)*cos(p)*sin(y))/2) - (r_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 + (p_dot*sin(y)*(l1*m1*cos(q1)*sin(p) + 2*l1*m2*cos(q1)*sin(p) + l2*m2*cos(q1)*cos(q2)*sin(p) + l1*m1*cos(p)*cos(r)*sin(q1) + 2*l1*m2*cos(p)*cos(r)*sin(q1) + l2*m2*sin(p)*sin(q1)*sin(q2) - l2*m2*cos(p)*cos(q1)*cos(r)*sin(q2) + l2*m2*cos(p)*cos(q2)*cos(r)*sin(q1)))/2, q1_dot*((m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)) - cos(p)*cos(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)) - y_dot*(((m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (m2*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*cos(q1) + (l2*cos(q1 - q2))/2))/2 - (cos(p)*sin(y)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2))/2 - (m2*cos(p)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))/2 + (l1*m1*cos(q1)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/4 - (l1*m1*cos(p)*sin(q1)*sin(y))/4) - q2_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + p_dot*((m2*cos(y)*(sin(p)*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(r)*(l1*cos(q1) + (l2*cos(q1 - q2))/2)))/2 + (cos(y)*sin(p)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2))/2 + (l1*m1*cos(y)*(sin(p)*sin(q1) - cos(p)*cos(q1)*cos(r)))/4 - (cos(p)*cos(r)*cos(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2))/2) - (r_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2, y_dot*((l2*m2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*m2*sin(q1 - q2)*cos(p)*sin(y))/2) - q1_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + q2_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + (l2*m2*r_dot*cos(q1 - q2)*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r)))/2 - (l2*m2*p_dot*cos(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2;
% 0, 0, 0, ((l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2))*(p_dot*cos(p)*sin(r)*sin(y) - y_dot*cos(r)*sin(y) - r_dot*cos(y)*sin(r) + r_dot*cos(r)*sin(p)*sin(y) + y_dot*cos(y)*sin(p)*sin(r)))/2 + (q1_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 - (l2*m2*q2_dot*cos(q1 - q2)*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y)))/2, (l1*m1*q1_dot*sin(p)*sin(q1)*sin(y))/2 - (l1*m1*p_dot*cos(p)*cos(q1)*sin(y))/2 - l1*m2*p_dot*cos(p)*cos(q1)*sin(y) - (l1*m1*y_dot*cos(q1)*cos(y)*sin(p))/2 - l1*m2*y_dot*cos(q1)*cos(y)*sin(p) - (l2*m2*q2_dot*sin(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2 + l1*m2*q1_dot*sin(p)*sin(q1)*sin(y) - (l2*m2*p_dot*cos(q1 - q2)*cos(p)*sin(y))/2 - (l2*m2*y_dot*cos(q1 - q2)*cos(y)*sin(p))/2 + (l2*m2*q1_dot*sin(q1 - q2)*sin(p)*sin(y))/2 - (l1*m1*q1_dot*cos(p)*cos(q1)*cos(r)*sin(y))/2 - l1*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(y) - (l1*m1*y_dot*cos(p)*cos(r)*cos(y)*sin(q1))/2 - l1*m2*y_dot*cos(p)*cos(r)*cos(y)*sin(q1) + (l1*m1*p_dot*cos(r)*sin(p)*sin(q1)*sin(y))/2 + l1*m2*p_dot*cos(r)*sin(p)*sin(q1)*sin(y) + (l1*m1*r_dot*cos(p)*sin(q1)*sin(r)*sin(y))/2 + l1*m2*r_dot*cos(p)*sin(q1)*sin(r)*sin(y) - (l2*m2*q1_dot*cos(q1 - q2)*cos(p)*cos(r)*sin(y))/2 - (l2*m2*y_dot*sin(q1 - q2)*cos(p)*cos(r)*cos(y))/2 + (l2*m2*p_dot*sin(q1 - q2)*cos(r)*sin(p)*sin(y))/2 + (l2*m2*r_dot*sin(q1 - q2)*cos(p)*sin(r)*sin(y))/2, q2_dot*((l2*m2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*m2*sin(q1 - q2)*cos(p)*cos(y))/2) - (q1_dot*(l2*m2*cos(q1 - q2)*sin(r)*sin(y) + l1*m1*cos(p)*cos(y)*sin(q1) + 2*l1*m2*cos(p)*cos(y)*sin(q1) + l1*m1*cos(q1)*sin(r)*sin(y) + 2*l1*m2*cos(q1)*sin(r)*sin(y) + l2*m2*sin(q1 - q2)*cos(p)*cos(y) + l1*m1*cos(q1)*cos(r)*cos(y)*sin(p) + 2*l1*m2*cos(q1)*cos(r)*cos(y)*sin(p) + l2*m2*cos(q1 - q2)*cos(r)*cos(y)*sin(p)))/2 - y_dot*(m2*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + m2*cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l1*m1*cos(p)*cos(q1)*sin(y))/2) - (r_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 - (p_dot*cos(y)*(l1*m1*cos(q1)*sin(p) + 2*l1*m2*cos(q1)*sin(p) + l2*m2*cos(q1)*cos(q2)*sin(p) + l1*m1*cos(p)*cos(r)*sin(q1) + 2*l1*m2*cos(p)*cos(r)*sin(q1) + l2*m2*sin(p)*sin(q1)*sin(q2) - l2*m2*cos(p)*cos(q1)*cos(r)*sin(q2) + l2*m2*cos(p)*cos(q2)*cos(r)*sin(q1)))/2, q2_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - q1_dot*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*((l1*m1*sin(q1))/2 + l1*m2*sin(q1) + (l2*m2*sin(q1 - q2))/2) + cos(p)*sin(y)*((l1*m1*cos(q1))/2 + l1*m2*cos(q1) + (l2*m2*cos(q1 - q2))/2)) - (y_dot*(l2*m2*cos(q1 - q2)*sin(r)*sin(y) + l1*m1*cos(p)*cos(y)*sin(q1) + 2*l1*m2*cos(p)*cos(y)*sin(q1) + l1*m1*cos(q1)*sin(r)*sin(y) + 2*l1*m2*cos(q1)*sin(r)*sin(y) + l2*m2*sin(q1 - q2)*cos(p)*cos(y) + l1*m1*cos(q1)*cos(r)*cos(y)*sin(p) + 2*l1*m2*cos(q1)*cos(r)*cos(y)*sin(p) + l2*m2*cos(q1 - q2)*cos(r)*cos(y)*sin(p)))/2 + (r_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 + (p_dot*sin(y)*(l1*m1*sin(p)*sin(q1) + 2*l1*m2*sin(p)*sin(q1) + l2*m2*sin(q1 - q2)*sin(p) - l1*m1*cos(p)*cos(q1)*cos(r) - 2*l1*m2*cos(p)*cos(q1)*cos(r) - l2*m2*cos(q1 - q2)*cos(p)*cos(r)))/2, y_dot*((l2*m2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*m2*sin(q1 - q2)*cos(p)*cos(y))/2) + q1_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - q2_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - (l2*m2*r_dot*cos(q1 - q2)*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y)))/2 - (l2*m2*p_dot*sin(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2;
% 0, 0, 0, ((r_dot*cos(p)*cos(r) - p_dot*sin(p)*sin(r))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 + (q1_dot*cos(p)*sin(r)*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 - (l2*m2*q2_dot*cos(q1 - q2)*cos(p)*sin(r))/2, (l1*m1*p_dot*cos(q1)*sin(p))/2 - (l2*m2*q2_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 + l1*m2*p_dot*cos(q1)*sin(p) + (l1*m1*q1_dot*cos(p)*sin(q1))/2 + l1*m2*q1_dot*cos(p)*sin(q1) + (l2*m2*p_dot*cos(q1 - q2)*sin(p))/2 + (l2*m2*q1_dot*sin(q1 - q2)*cos(p))/2 + (l1*m1*p_dot*cos(p)*cos(r)*sin(q1))/2 + l1*m2*p_dot*cos(p)*cos(r)*sin(q1) + (l1*m1*q1_dot*cos(q1)*cos(r)*sin(p))/2 + l1*m2*q1_dot*cos(q1)*cos(r)*sin(p) - (l1*m1*r_dot*sin(p)*sin(q1)*sin(r))/2 - l1*m2*r_dot*sin(p)*sin(q1)*sin(r) + (l2*m2*p_dot*sin(q1 - q2)*cos(p)*cos(r))/2 + (l2*m2*q1_dot*cos(q1 - q2)*cos(r)*sin(p))/2 - (l2*m2*r_dot*sin(q1 - q2)*sin(p)*sin(r))/2, 0, q1_dot*(sin(p)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2) + cos(p)*cos(r)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)) - (l2*m2*q2_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 + (l1*m1*p_dot*cos(p)*sin(q1))/2 + l1*m2*p_dot*cos(p)*sin(q1) + (l2*m2*p_dot*sin(q1 - q2)*cos(p))/2 + (l1*m1*p_dot*cos(q1)*cos(r)*sin(p))/2 + l1*m2*p_dot*cos(q1)*cos(r)*sin(p) + (l1*m1*r_dot*cos(p)*cos(q1)*sin(r))/2 + l1*m2*r_dot*cos(p)*cos(q1)*sin(r) + (l2*m2*p_dot*cos(q1 - q2)*cos(r)*sin(p))/2 + (l2*m2*r_dot*cos(q1 - q2)*cos(p)*sin(r))/2, (l2*m2*q2_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l2*m2*q1_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l2*m2*p_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 - (l2*m2*r_dot*cos(q1 - q2)*cos(p)*sin(r))/2;
% ((l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2))*(r_dot*sin(r)*sin(y) - y_dot*cos(r)*cos(y) + p_dot*cos(p)*cos(y)*sin(r) + r_dot*cos(r)*cos(y)*sin(p) - y_dot*sin(p)*sin(r)*sin(y)))/2 - (q1_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 + (l2*m2*q2_dot*cos(q1 - q2)*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r)))/2, ((l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2))*(p_dot*cos(p)*sin(r)*sin(y) - y_dot*cos(r)*sin(y) - r_dot*cos(y)*sin(r) + r_dot*cos(r)*sin(p)*sin(y) + y_dot*cos(y)*sin(p)*sin(r)))/2 + (q1_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 - (l2*m2*q2_dot*cos(q1 - q2)*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y)))/2, ((r_dot*cos(p)*cos(r) - p_dot*sin(p)*sin(r))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 + (q1_dot*cos(p)*sin(r)*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 - (l2*m2*q2_dot*cos(q1 - q2)*cos(p)*sin(r))/2, q1_dot*((l2^2*m2*sin(2*q1 - 2*q2))/6 + (l1^2*m1*sin(2*q1))/6 + (l1^2*m2*sin(2*q1))/2 + (l1*l2*m2*sin(2*q1 - q2))/2) + ((l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2))*(zb_dot*cos(p)*cos(r) - yb_dot*cos(y)*sin(r) + xb_dot*sin(r)*sin(y) + xb_dot*cos(r)*cos(y)*sin(p) + yb_dot*cos(r)*sin(p)*sin(y)))/2 - (p_dot*cos(r)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/6 - (l2*m2*q2_dot*(3*l1*sin(2*q1 - q2) + 2*l2*sin(2*q1 - 2*q2) + 3*l1*sin(q2)))/12 - (y_dot*cos(p)*sin(r)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/6, (Iz*p_dot*sin(2*r))/2 - (Iy*p_dot*sin(2*r))/2 - (Ix*y_dot*cos(p))/2 - (Iy*y_dot*cos(p))/2 + (Iz*y_dot*cos(p))/2 + Iy*y_dot*cos(p)*cos(r)^2 - Iz*y_dot*cos(p)*cos(r)^2 - (l1^2*m1*p_dot*sin(2*r))/6 - (l1^2*m2*p_dot*sin(2*r))/2 - (l1^2*m1*y_dot*cos(p))/3 - l1^2*m2*y_dot*cos(p) - (l1^2*m1*q1_dot*sin(r))/6 - (l1^2*m2*q1_dot*sin(r))/2 - (l2^2*m2*q1_dot*sin(r))/6 + (l1^2*m1*y_dot*cos(p)*cos(q1)^2)/3 + l1^2*m2*y_dot*cos(p)*cos(q1)^2 - (l2^2*m2*y_dot*cos(p)*cos(q1)^2)/3 - (l2^2*m2*y_dot*cos(p)*cos(q2)^2)/3 + (l1^2*m1*y_dot*cos(p)*cos(r)^2)/3 + l1^2*m2*y_dot*cos(p)*cos(r)^2 - (l1^2*m1*q1_dot*cos(2*q1)*sin(r))/6 - (l1^2*m2*q1_dot*cos(2*q1)*sin(r))/2 - (l2^2*m2*q1_dot*cos(2*q1 - 2*q2)*sin(r))/6 + (l2*m2*q2_dot*sin(r)*(2*l2 + 3*l1*cos(2*q1 - q2) + 2*l2*cos(2*q1 - 2*q2) + 3*l1*cos(q2)))/12 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2)/3 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 - (l1*l2*m2*q1_dot*cos(2*q1 - q2)*sin(r))/2 - (l1*m1*zb_dot*sin(p)*sin(q1)*sin(r))/2 - l1*m2*zb_dot*sin(p)*sin(q1)*sin(r) - (l1^2*m1*r_dot*cos(q1)*cos(r)*sin(q1))/3 - l1^2*m2*r_dot*cos(q1)*cos(r)*sin(q1) + (l2^2*m2*r_dot*cos(q1)*cos(r)*sin(q1))/3 - (l2^2*m2*r_dot*cos(q2)*cos(r)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q2) - (l1*l2*m2*q1_dot*cos(q2)*sin(r))/2 - (l1*l2*m2*r_dot*cos(r)*sin(q2))/2 + (l1^2*m1*p_dot*cos(q1)^2*cos(r)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*cos(r)*sin(r))/3 + l1*l2*m2*r_dot*cos(q1)^2*cos(r)*sin(q2) + (l1*m1*xb_dot*cos(p)*cos(y)*sin(q1)*sin(r))/2 + l1*m2*xb_dot*cos(p)*cos(y)*sin(q1)*sin(r) + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*cos(r)*sin(r))/3 + (l2*m2*zb_dot*cos(q1)*sin(p)*sin(q2)*sin(r))/2 - (l2*m2*zb_dot*cos(q2)*sin(p)*sin(q1)*sin(r))/2 + (l1*m1*yb_dot*cos(p)*sin(q1)*sin(r)*sin(y))/2 + l1*m2*yb_dot*cos(p)*sin(q1)*sin(r)*sin(y) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 - l1*l2*m2*p_dot*cos(q2)*cos(r)*sin(r) - (2*l2^2*m2*r_dot*cos(q1)*cos(q2)^2*cos(r)*sin(q1))/3 + (2*l2^2*m2*r_dot*cos(q1)^2*cos(q2)*cos(r)*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2) + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)^2 - (l2*m2*yb_dot*cos(p)*cos(q1)*sin(q2)*sin(r)*sin(y))/2 + (l2*m2*yb_dot*cos(p)*cos(q2)*sin(q1)*sin(r)*sin(y))/2 - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(q2))/3 - l1*l2*m2*r_dot*cos(q1)*cos(q2)*cos(r)*sin(q1) + l1*l2*m2*y_dot*cos(p)*cos(q1)*sin(q1)*sin(q2) + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*cos(r)*sin(r) - (l2*m2*xb_dot*cos(p)*cos(q1)*cos(y)*sin(q2)*sin(r))/2 + (l2*m2*xb_dot*cos(p)*cos(q2)*cos(y)*sin(q1)*sin(r))/2 + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*p_dot*cos(q1)*cos(r)*sin(q1)*sin(q2)*sin(r) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2), (Iz*p_dot*cos(p))/2 - (Iy*p_dot*cos(p))/2 - (Ix*p_dot*cos(p))/2 + Iy*p_dot*cos(p)*cos(r)^2 - Iz*p_dot*cos(p)*cos(r)^2 - (l1^2*m1*p_dot*cos(p))/3 - l1^2*m2*p_dot*cos(p) + (l1^2*m1*p_dot*cos(p)*cos(q1)^2)/3 + l1^2*m2*p_dot*cos(p)*cos(q1)^2 - (l2^2*m2*p_dot*cos(p)*cos(q1)^2)/3 - (l2^2*m2*p_dot*cos(p)*cos(q2)^2)/3 + Iy*y_dot*cos(p)^2*cos(r)*sin(r) - Iz*y_dot*cos(p)^2*cos(r)*sin(r) + (l1^2*m1*p_dot*cos(p)*cos(r)^2)/3 + l1^2*m2*p_dot*cos(p)*cos(r)^2 + (l2^2*m2*q1_dot*cos(p)*cos(r))/3 - (l2^2*m2*q2_dot*cos(p)*cos(r))/3 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)^2)/3 - (l1^2*m1*p_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*p_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 - (l1*m1*xb_dot*cos(r)*cos(y)*sin(q1))/2 - l1*m2*xb_dot*cos(r)*cos(y)*sin(q1) - (l1*m1*yb_dot*cos(r)*sin(q1)*sin(y))/2 - l1*m2*yb_dot*cos(r)*sin(q1)*sin(y) - (l1^2*m1*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q2_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q1_dot*cos(q2)*sin(p)*sin(q2))/3 + (l2^2*m2*q2_dot*cos(q2)*sin(p)*sin(q2))/3 - l1*l2*m2*p_dot*cos(p)*cos(q2) - (l1*l2*m2*q1_dot*sin(p)*sin(q2))/2 + (l1*l2*m2*q2_dot*sin(p)*sin(q2))/2 + (l1^2*m1*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*q1_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l1^2*m1*y_dot*cos(p)^2*cos(r)*sin(r))/3 + l1^2*m2*y_dot*cos(p)^2*cos(r)*sin(r) + l1*l2*m2*q1_dot*cos(q1)^2*sin(p)*sin(q2) - (l1*l2*m2*q2_dot*cos(q1)^2*sin(p)*sin(q2))/2 + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 + (l2*m2*xb_dot*cos(q1)*cos(r)*cos(y)*sin(q2))/2 - (l2*m2*xb_dot*cos(q2)*cos(r)*cos(y)*sin(q1))/2 + (l2*m2*yb_dot*cos(q1)*cos(r)*sin(q2)*sin(y))/2 - (l2*m2*yb_dot*cos(q2)*cos(r)*sin(q1)*sin(y))/2 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r))/3 + (l2^2*m2*y_dot*cos(p)^2*cos(q2)^2*cos(r)*sin(r))/3 + (l1*m1*yb_dot*cos(y)*sin(p)*sin(q1)*sin(r))/2 + l1*m2*yb_dot*cos(y)*sin(p)*sin(q1)*sin(r) - (l1*m1*xb_dot*sin(p)*sin(q1)*sin(r)*sin(y))/2 - l1*m2*xb_dot*sin(p)*sin(q1)*sin(r)*sin(y) - (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 - (l1^2*m1*r_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 - l1^2*m2*r_dot*cos(p)*cos(q1)*sin(q1)*sin(r) + (l2^2*m2*r_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 - (l2^2*m2*r_dot*cos(p)*cos(q2)*sin(q2)*sin(r))/3 - (l1*l2*m2*r_dot*cos(p)*sin(q2)*sin(r))/2 - (2*l2^2*m2*q1_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*q1_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + (2*l2^2*m2*q2_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 - (2*l2^2*m2*q2_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2) + l1*l2*m2*p_dot*cos(p)*cos(q2)*cos(r)^2 - (l2*m2*yb_dot*cos(q1)*cos(y)*sin(p)*sin(q2)*sin(r))/2 + (l2*m2*yb_dot*cos(q2)*cos(y)*sin(p)*sin(q1)*sin(r))/2 + (l2*m2*xb_dot*cos(q1)*sin(p)*sin(q2)*sin(r)*sin(y))/2 - (l2*m2*xb_dot*cos(q2)*sin(p)*sin(q1)*sin(r)*sin(y))/2 - l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(q2))/3 + (l1^2*m1*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r))/3 + l1^2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r) - (l2^2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r))/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)*sin(p)*sin(q2)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)^2*cos(r)*sin(r))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*sin(q1)*sin(q2) - l1*l2*m2*q1_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + (l1*l2*m2*q2_dot*cos(q1)*cos(q2)*sin(p)*sin(q1))/2 + (l1*l2*m2*y_dot*cos(p)*sin(p)*sin(q2)*sin(r))/2 - (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)^2*sin(q1)*sin(r))/3 + (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*sin(q2)*sin(r))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r))/2 + l1*l2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)*sin(r) + l1*l2*m2*r_dot*cos(p)*cos(q1)^2*sin(q2)*sin(r) - l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)*sin(r) + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2))/2 - l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(r) - (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)^2*sin(p)*sin(q1)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*sin(p)*sin(q2)*sin(r))/3 - l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2) - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*sin(p)*sin(q2)*sin(r) + l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(r) - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)*sin(r))/3 - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1)*sin(q2)*sin(r), r_dot*((l2^2*m2*sin(2*q1 - 2*q2))/6 + (l1^2*m1*sin(2*q1))/6 + (l1^2*m2*sin(2*q1))/2 + (l1*l2*m2*sin(2*q1 - q2))/2) + ((l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2))*(yb_dot*cos(r)*cos(y) + zb_dot*cos(p)*sin(r) - xb_dot*cos(r)*sin(y) + xb_dot*cos(y)*sin(p)*sin(r) + yb_dot*sin(p)*sin(r)*sin(y)))/2 + (y_dot*(2*l2^2*m2*cos(p)*cos(r) - 2*l1^2*m1*cos(q1)*sin(p)*sin(q1) - 6*l1^2*m2*cos(q1)*sin(p)*sin(q1) + 2*l2^2*m2*cos(q1)*sin(p)*sin(q1) - 2*l2^2*m2*cos(q2)*sin(p)*sin(q2) - 3*l1*l2*m2*sin(p)*sin(q2) + 2*l1^2*m1*cos(p)*cos(q1)^2*cos(r) + 6*l1^2*m2*cos(p)*cos(q1)^2*cos(r) - 2*l2^2*m2*cos(p)*cos(q1)^2*cos(r) - 2*l2^2*m2*cos(p)*cos(q2)^2*cos(r) - 4*l2^2*m2*cos(q1)*cos(q2)^2*sin(p)*sin(q1) + 4*l2^2*m2*cos(q1)^2*cos(q2)*sin(p)*sin(q2) + 6*l1*l2*m2*cos(q1)^2*sin(p)*sin(q2) + 4*l2^2*m2*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) - 6*l1*l2*m2*cos(q1)*cos(q2)*sin(p)*sin(q1) + 6*l1*l2*m2*cos(p)*cos(q1)^2*cos(q2)*cos(r) + 4*l2^2*m2*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2) + 6*l1*l2*m2*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2)))/6 - (p_dot*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2) + 3*l1*l2*m2*cos(q2)))/6, -(l2*m2*(3*l1*r_dot*sin(q2) - 2*l2*p_dot*sin(r) + 3*l1*r_dot*sin(2*q1 - q2) + 2*l2*r_dot*sin(2*q1 - 2*q2) - 6*l1*y_dot*sin(p)*sin(q2) - 3*l1*p_dot*cos(2*q1 - q2)*sin(r) - 2*l2*p_dot*cos(2*q1 - 2*q2)*sin(r) + 6*yb_dot*cos(q1 - q2)*cos(r)*cos(y) + 6*zb_dot*cos(q1 - q2)*cos(p)*sin(r) - 6*xb_dot*cos(q1 - q2)*cos(r)*sin(y) + 4*l2*y_dot*cos(p)*cos(r) - 3*l1*p_dot*cos(q2)*sin(r) - 4*l2*y_dot*cos(p)*cos(q1)^2*cos(r) - 4*l2*y_dot*cos(p)*cos(q2)^2*cos(r) + 6*l1*y_dot*cos(q1)^2*sin(p)*sin(q2) + 6*xb_dot*cos(q1 - q2)*cos(y)*sin(p)*sin(r) + 6*yb_dot*cos(q1 - q2)*sin(p)*sin(r)*sin(y) + 4*l2*y_dot*cos(q1)*sin(p)*sin(q1) - 4*l2*y_dot*cos(q2)*sin(p)*sin(q2) - 8*l2*y_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1) + 8*l2*y_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2) + 8*l2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) - 6*l1*y_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + 6*l1*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) + 6*l1*y_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) + 8*l2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/12;
% (l1*m1*q1_dot*cos(y)*sin(p)*sin(q1))/2 - (l1*m1*p_dot*cos(p)*cos(q1)*cos(y))/2 - l1*m2*p_dot*cos(p)*cos(q1)*cos(y) - (l2*m2*q2_dot*cos(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2 + l1*m2*q1_dot*cos(y)*sin(p)*sin(q1) + (l1*m1*y_dot*cos(q1)*sin(p)*sin(y))/2 + l1*m2*y_dot*cos(q1)*sin(p)*sin(y) - (l2*m2*p_dot*cos(q1 - q2)*cos(p)*cos(y))/2 + (l2*m2*q1_dot*sin(q1 - q2)*cos(y)*sin(p))/2 + (l2*m2*y_dot*cos(q1 - q2)*sin(p)*sin(y))/2 - (l1*m1*q1_dot*cos(p)*cos(q1)*cos(r)*cos(y))/2 - l1*m2*q1_dot*cos(p)*cos(q1)*cos(r)*cos(y) + (l1*m1*p_dot*cos(r)*cos(y)*sin(p)*sin(q1))/2 + l1*m2*p_dot*cos(r)*cos(y)*sin(p)*sin(q1) + (l1*m1*r_dot*cos(p)*cos(y)*sin(q1)*sin(r))/2 + l1*m2*r_dot*cos(p)*cos(y)*sin(q1)*sin(r) + (l1*m1*y_dot*cos(p)*cos(r)*sin(q1)*sin(y))/2 + l1*m2*y_dot*cos(p)*cos(r)*sin(q1)*sin(y) - (l2*m2*q1_dot*cos(q1 - q2)*cos(p)*cos(r)*cos(y))/2 + (l2*m2*p_dot*sin(q1 - q2)*cos(r)*cos(y)*sin(p))/2 + (l2*m2*r_dot*sin(q1 - q2)*cos(p)*cos(y)*sin(r))/2 + (l2*m2*y_dot*sin(q1 - q2)*cos(p)*cos(r)*sin(y))/2, (l1*m1*q1_dot*sin(p)*sin(q1)*sin(y))/2 - (l1*m1*p_dot*cos(p)*cos(q1)*sin(y))/2 - l1*m2*p_dot*cos(p)*cos(q1)*sin(y) - (l1*m1*y_dot*cos(q1)*cos(y)*sin(p))/2 - l1*m2*y_dot*cos(q1)*cos(y)*sin(p) - (l2*m2*q2_dot*sin(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2 + l1*m2*q1_dot*sin(p)*sin(q1)*sin(y) - (l2*m2*p_dot*cos(q1 - q2)*cos(p)*sin(y))/2 - (l2*m2*y_dot*cos(q1 - q2)*cos(y)*sin(p))/2 + (l2*m2*q1_dot*sin(q1 - q2)*sin(p)*sin(y))/2 - (l1*m1*q1_dot*cos(p)*cos(q1)*cos(r)*sin(y))/2 - l1*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(y) - (l1*m1*y_dot*cos(p)*cos(r)*cos(y)*sin(q1))/2 - l1*m2*y_dot*cos(p)*cos(r)*cos(y)*sin(q1) + (l1*m1*p_dot*cos(r)*sin(p)*sin(q1)*sin(y))/2 + l1*m2*p_dot*cos(r)*sin(p)*sin(q1)*sin(y) + (l1*m1*r_dot*cos(p)*sin(q1)*sin(r)*sin(y))/2 + l1*m2*r_dot*cos(p)*sin(q1)*sin(r)*sin(y) - (l2*m2*q1_dot*cos(q1 - q2)*cos(p)*cos(r)*sin(y))/2 - (l2*m2*y_dot*sin(q1 - q2)*cos(p)*cos(r)*cos(y))/2 + (l2*m2*p_dot*sin(q1 - q2)*cos(r)*sin(p)*sin(y))/2 + (l2*m2*r_dot*sin(q1 - q2)*cos(p)*sin(r)*sin(y))/2, (l1*m1*p_dot*cos(q1)*sin(p))/2 - (l2*m2*q2_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 + l1*m2*p_dot*cos(q1)*sin(p) + (l1*m1*q1_dot*cos(p)*sin(q1))/2 + l1*m2*q1_dot*cos(p)*sin(q1) + (l2*m2*p_dot*cos(q1 - q2)*sin(p))/2 + (l2*m2*q1_dot*sin(q1 - q2)*cos(p))/2 + (l1*m1*p_dot*cos(p)*cos(r)*sin(q1))/2 + l1*m2*p_dot*cos(p)*cos(r)*sin(q1) + (l1*m1*q1_dot*cos(q1)*cos(r)*sin(p))/2 + l1*m2*q1_dot*cos(q1)*cos(r)*sin(p) - (l1*m1*r_dot*sin(p)*sin(q1)*sin(r))/2 - l1*m2*r_dot*sin(p)*sin(q1)*sin(r) + (l2*m2*p_dot*sin(q1 - q2)*cos(p)*cos(r))/2 + (l2*m2*q1_dot*cos(q1 - q2)*cos(r)*sin(p))/2 - (l2*m2*r_dot*sin(q1 - q2)*sin(p)*sin(r))/2, (Iz*p_dot*sin(2*r))/2 - (Iy*p_dot*sin(2*r))/2 - (Ix*y_dot*cos(p))/2 - (Iy*y_dot*cos(p))/2 + (Iz*y_dot*cos(p))/2 + Iy*y_dot*cos(p)*cos(r)^2 - Iz*y_dot*cos(p)*cos(r)^2 - (l1^2*m1*p_dot*sin(2*r))/6 - (l1^2*m2*p_dot*sin(2*r))/2 - (l1^2*m1*y_dot*cos(p))/3 - l1^2*m2*y_dot*cos(p) - (l1^2*m1*q1_dot*sin(r))/6 - (l1^2*m2*q1_dot*sin(r))/2 - (l2^2*m2*q1_dot*sin(r))/6 + (l1^2*m1*y_dot*cos(p)*cos(q1)^2)/3 + l1^2*m2*y_dot*cos(p)*cos(q1)^2 - (l2^2*m2*y_dot*cos(p)*cos(q1)^2)/3 - (l2^2*m2*y_dot*cos(p)*cos(q2)^2)/3 + (l1^2*m1*y_dot*cos(p)*cos(r)^2)/3 + l1^2*m2*y_dot*cos(p)*cos(r)^2 - (l1^2*m1*q1_dot*cos(2*q1)*sin(r))/6 - (l1^2*m2*q1_dot*cos(2*q1)*sin(r))/2 - (l2^2*m2*q1_dot*cos(2*q1 - 2*q2)*sin(r))/6 + (l2*m2*q2_dot*sin(r)*(2*l2 + 3*l1*cos(2*q1 - q2) + 2*l2*cos(2*q1 - 2*q2) + 3*l1*cos(q2)))/12 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2)/3 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 - (l1*l2*m2*q1_dot*cos(2*q1 - q2)*sin(r))/2 - (l1*m1*zb_dot*sin(p)*sin(q1)*sin(r))/2 - l1*m2*zb_dot*sin(p)*sin(q1)*sin(r) - (l1^2*m1*r_dot*cos(q1)*cos(r)*sin(q1))/3 - l1^2*m2*r_dot*cos(q1)*cos(r)*sin(q1) + (l2^2*m2*r_dot*cos(q1)*cos(r)*sin(q1))/3 - (l2^2*m2*r_dot*cos(q2)*cos(r)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q2) - (l1*l2*m2*q1_dot*cos(q2)*sin(r))/2 - (l1*l2*m2*r_dot*cos(r)*sin(q2))/2 + (l1^2*m1*p_dot*cos(q1)^2*cos(r)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*cos(r)*sin(r))/3 + l1*l2*m2*r_dot*cos(q1)^2*cos(r)*sin(q2) + (l1*m1*xb_dot*cos(p)*cos(y)*sin(q1)*sin(r))/2 + l1*m2*xb_dot*cos(p)*cos(y)*sin(q1)*sin(r) + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*cos(r)*sin(r))/3 + (l2*m2*zb_dot*cos(q1)*sin(p)*sin(q2)*sin(r))/2 - (l2*m2*zb_dot*cos(q2)*sin(p)*sin(q1)*sin(r))/2 + (l1*m1*yb_dot*cos(p)*sin(q1)*sin(r)*sin(y))/2 + l1*m2*yb_dot*cos(p)*sin(q1)*sin(r)*sin(y) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 - l1*l2*m2*p_dot*cos(q2)*cos(r)*sin(r) - (2*l2^2*m2*r_dot*cos(q1)*cos(q2)^2*cos(r)*sin(q1))/3 + (2*l2^2*m2*r_dot*cos(q1)^2*cos(q2)*cos(r)*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2) + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)^2 - (l2*m2*yb_dot*cos(p)*cos(q1)*sin(q2)*sin(r)*sin(y))/2 + (l2*m2*yb_dot*cos(p)*cos(q2)*sin(q1)*sin(r)*sin(y))/2 - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(q2))/3 - l1*l2*m2*r_dot*cos(q1)*cos(q2)*cos(r)*sin(q1) + l1*l2*m2*y_dot*cos(p)*cos(q1)*sin(q1)*sin(q2) + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*cos(r)*sin(r) - (l2*m2*xb_dot*cos(p)*cos(q1)*cos(y)*sin(q2)*sin(r))/2 + (l2*m2*xb_dot*cos(p)*cos(q2)*cos(y)*sin(q1)*sin(r))/2 + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*p_dot*cos(q1)*cos(r)*sin(q1)*sin(q2)*sin(r) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2), zb_dot*((l2*m2*cos(q1 - q2)*sin(p))/2 + (l1*m1*cos(q1)*sin(p))/2 + l1*m2*cos(q1)*sin(p) + (l1*m1*cos(p)*cos(r)*sin(q1))/2 + l1*m2*cos(p)*cos(r)*sin(q1) + (l2*m2*sin(q1 - q2)*cos(p)*cos(r))/2) - ((xb_dot*cos(y) + yb_dot*sin(y))*(l2*m2*cos(q1 - q2)*cos(p) + l1*m1*cos(p)*cos(q1) + 2*l1*m2*cos(p)*cos(q1) - l2*m2*sin(q1 - q2)*cos(r)*sin(p) - l1*m1*cos(r)*sin(p)*sin(q1) - 2*l1*m2*cos(r)*sin(p)*sin(q1)))/2 + (y_dot*sin(r)*(24*Iz*cos(r)*sin(p) - 24*Iy*cos(r)*sin(p) - 2*l1^2*m1*cos(r)*sin(p) - 2*l2^2*m2*cos(r)*sin(p) + l1^2*m1*sin(2*q1)*cos(p) + l2^2*m2*sin(2*q1 - 2*q2)*cos(p) + 6*l1^2*m1*cos(p)*cos(q1)*sin(q1) + 24*l1^2*m2*cos(p)*cos(q1)*sin(q1) + 6*l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p) + 2*l1^2*m1*cos(q1)^2*cos(r)*sin(p) - 6*l1^2*m1*cos(r)*sin(p)*sin(q1)^2 - 24*l1^2*m2*cos(r)*sin(p)*sin(q1)^2 + 2*l2^2*m2*cos(q1 - q2)^2*cos(r)*sin(p) - 6*l2^2*m2*sin(q1 - q2)^2*cos(r)*sin(p) + 12*l1*l2*m2*cos(q1 - q2)*cos(p)*sin(q1) + 12*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1) - 24*l1*l2*m2*sin(q1 - q2)*cos(r)*sin(p)*sin(q1)))/24 + (q1_dot*(cos(2*r) - 1)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/12 - (r_dot*sin(2*r)*(3*Iy - 3*Iz + (l1^2*m1)/2 + (3*l1^2*m2)/2 + (l2^2*m2)/2 - (l1^2*m1*cos(2*q1))/2 - (3*l1^2*m2*cos(2*q1))/2 - (l2^2*m2*cos(2*q1 - 2*q2))/2 - (3*l1*l2*m2*cos(2*q1 - q2))/2 + (3*l1*l2*m2*cos(q2))/2))/6 - (l2*m2*q2_dot*(9*l1*sin(q2) + 2*l2*cos(2*q1)*sin(2*q2) - 2*l2*cos(2*q2)*sin(2*q1) + 3*l1*cos(2*q1)*sin(q2) - 3*l1*sin(2*q1)*cos(q2) + 3*l1*cos(2*r)*sin(q2) - 3*l1*cos(2*q1)*cos(2*r)*sin(q2) + 3*l1*cos(2*r)*sin(2*q1)*cos(q2) - 2*l2*cos(2*q1)*cos(2*r)*sin(2*q2) + 2*l2*cos(2*q2)*cos(2*r)*sin(2*q1)))/24, (Ix*y_dot*sin(2*p))/2 - (Iy*y_dot*sin(2*p))/2 - (Ix*r_dot*cos(p))/2 - (Iy*r_dot*cos(p))/2 + (Iz*r_dot*cos(p))/2 + Iy*r_dot*cos(p)*cos(r)^2 - Iz*r_dot*cos(p)*cos(r)^2 - (l2^2*m2*y_dot*sin(2*p))/6 - (l1^2*m1*r_dot*cos(p))/3 - l1^2*m2*r_dot*cos(p) + Iy*y_dot*cos(p)*cos(r)^2*sin(p) - Iz*y_dot*cos(p)*cos(r)^2*sin(p) + (l1^2*m1*r_dot*cos(p)*cos(q1)^2)/3 + l1^2*m2*r_dot*cos(p)*cos(q1)^2 - (l2^2*m2*r_dot*cos(p)*cos(q1)^2)/3 - (l2^2*m2*r_dot*cos(p)*cos(q2)^2)/3 + (l1^2*m1*r_dot*cos(p)*cos(r)^2)/3 + l1^2*m2*r_dot*cos(p)*cos(r)^2 - Iy*p_dot*cos(r)*sin(p)*sin(r) + Iz*p_dot*cos(r)*sin(p)*sin(r) - (l1^2*m1*q1_dot*sin(p)*sin(r))/3 - l1^2*m2*q1_dot*sin(p)*sin(r) + (l2^2*m2*q2_dot*sin(p)*sin(r))/6 + (l1^2*m1*q1_dot*cos(q1)^2*sin(p)*sin(r))/3 + l1^2*m2*q1_dot*cos(q1)^2*sin(p)*sin(r) - (l2^2*m2*q1_dot*cos(q1)^2*sin(p)*sin(r))/3 - (l2^2*m2*q1_dot*cos(q2)^2*sin(p)*sin(r))/3 - (l2^2*m2*q2_dot*cos(2*q1 - 2*q2)*sin(p)*sin(r))/24 - (l2^2*m2*q2_dot*cos(q1 - q2)^2*sin(p)*sin(r))/8 + (l2^2*m2*q2_dot*sin(q1 - q2)^2*sin(p)*sin(r))/8 + (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2)/3 - (l1*m1*yb_dot*cos(q1)*cos(y)*sin(p))/2 - l1*m2*yb_dot*cos(q1)*cos(y)*sin(p) - (l1^2*m1*r_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*r_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 + (l1*m1*xb_dot*cos(q1)*sin(p)*sin(y))/2 + l1*m2*xb_dot*cos(q1)*sin(p)*sin(y) + (l1^2*m1*y_dot*cos(q1)*cos(r)*sin(q1))/3 + l1^2*m2*y_dot*cos(q1)*cos(r)*sin(q1) - (l2^2*m2*y_dot*cos(q1)*cos(r)*sin(q1))/3 + (l2^2*m2*y_dot*cos(q2)*cos(r)*sin(q2))/3 - (l1^2*m1*p_dot*cos(r)*sin(p)*sin(r))/3 - l1^2*m2*p_dot*cos(r)*sin(p)*sin(r) - l1*l2*m2*r_dot*cos(p)*cos(q2) + (l1*l2*m2*y_dot*cos(r)*sin(q2))/2 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*sin(p))/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*sin(p) + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*sin(p))/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*sin(p))/3 + (l1^2*m1*y_dot*cos(p)*cos(r)^2*sin(p))/3 + l1^2*m2*y_dot*cos(p)*cos(r)^2*sin(p) - l1*l2*m2*y_dot*cos(p)^2*cos(r)*sin(q2) - l1*l2*m2*y_dot*cos(q1)^2*cos(r)*sin(q2) - (l2*m2*yb_dot*cos(q1)*cos(q2)*cos(y)*sin(p))/2 - (l1*m1*yb_dot*cos(p)*cos(r)*cos(y)*sin(q1))/2 - l1*m2*yb_dot*cos(p)*cos(r)*cos(y)*sin(q1) + (l2*m2*xb_dot*cos(q1)*cos(q2)*sin(p)*sin(y))/2 + (l1*m1*xb_dot*cos(p)*cos(r)*sin(q1)*sin(y))/2 + l1*m2*xb_dot*cos(p)*cos(r)*sin(q1)*sin(y) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*sin(p))/3 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)^2*sin(p))/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2*sin(p) + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2*sin(p))/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)^2*sin(p))/3 + (2*l2^2*m2*q1_dot*cos(q1)^2*cos(q2)^2*sin(p)*sin(r))/3 - (l2*m2*yb_dot*cos(y)*sin(p)*sin(q1)*sin(q2))/2 + (l2*m2*xb_dot*sin(p)*sin(q1)*sin(q2)*sin(y))/2 + (l1^2*m1*p_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 + l1^2*m2*p_dot*cos(p)*cos(q1)*sin(q1)*sin(r) - (l2^2*m2*p_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 + (l2^2*m2*p_dot*cos(p)*cos(q2)*sin(q2)*sin(r))/3 - (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 + (l1*l2*m2*p_dot*cos(p)*sin(q2)*sin(r))/2 - l1*l2*m2*q1_dot*cos(q2)*sin(p)*sin(r) + (l1*l2*m2*q2_dot*cos(q2)*sin(p)*sin(r))/4 - (2*l1^2*m1*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1))/3 - 2*l1^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1) + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)*sin(q2))/3 + (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*cos(r)*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*cos(r)*sin(q2))/3 + (l1^2*m1*p_dot*cos(q1)^2*cos(r)*sin(p)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*cos(r)*sin(p)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*cos(r)*sin(p)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*cos(r)*sin(p)*sin(r))/3 + l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2) + l1*l2*m2*r_dot*cos(p)*cos(q2)*cos(r)^2 - (4*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*cos(r)*sin(q1))/3 + (4*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*cos(r)*sin(p)*sin(r))/3 - l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 + 2*l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(q2) + (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(q2))/3 + (l1^2*m1*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + l1^2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r) - (l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + (l2^2*m2*q1_dot*cos(p)*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2*sin(p))/3 + l1*l2*m2*y_dot*cos(q1)*cos(q2)*cos(r)*sin(q1) - l1*l2*m2*p_dot*cos(q2)*cos(r)*sin(p)*sin(r) + l1*l2*m2*r_dot*cos(p)*cos(q1)*sin(q1)*sin(q2) + (l1*l2*m2*q1_dot*cos(p)*cos(r)*sin(q2)*sin(r))/2 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)^2*sin(q1)*sin(r))/3 - (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*sin(q2)*sin(r))/3 - (l2^2*m2*q2_dot*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)*sin(r))/3 - (l1*l2*m2*q2_dot*cos(q1 - q2)*cos(q1)*sin(p)*sin(r))/4 + (l1*l2*m2*q2_dot*sin(q1 - q2)*sin(p)*sin(q1)*sin(r))/4 - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*sin(p) + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)^2*sin(p) - l1*l2*m2*p_dot*cos(p)*cos(q1)^2*sin(q2)*sin(r) + l1*l2*m2*q1_dot*cos(q1)^2*cos(q2)*sin(p)*sin(r) + (l2*m2*yb_dot*cos(p)*cos(q1)*cos(r)*cos(y)*sin(q2))/2 - (l2*m2*yb_dot*cos(p)*cos(q2)*cos(r)*cos(y)*sin(q1))/2 - (l2*m2*xb_dot*cos(p)*cos(q1)*cos(r)*sin(q2)*sin(y))/2 + (l2*m2*xb_dot*cos(p)*cos(q2)*cos(r)*sin(q1)*sin(y))/2 - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2*sin(p) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2))/3 + (2*l2^2*m2*q1_dot*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(r) - l1*l2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(q2) + l1*l2*m2*q1_dot*cos(q1)*sin(p)*sin(q1)*sin(q2)*sin(r) + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)^2*cos(r)*sin(q1)*sin(r))/3 - (2*l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 - (l1*l2*m2*q2_dot*cos(q1 - q2)*cos(p)*cos(r)*sin(q1)*sin(r))/2 - 2*l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)*sin(q1) + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*cos(r)*sin(p)*sin(r) - l1*l2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r)*sin(q2)*sin(r) - l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2) + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(r) + l1*l2*m2*p_dot*cos(q1)*cos(r)*sin(p)*sin(q1)*sin(q2)*sin(r) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(p)*sin(q1)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)^2*sin(p)*sin(q1)*sin(q2), ((xb_dot*cos(y) + yb_dot*sin(y))*(l1*m1*sin(p)*sin(q1) + 2*l1*m2*sin(p)*sin(q1) + l2*m2*sin(q1 - q2)*sin(p) - l1*m1*cos(p)*cos(q1)*cos(r) - 2*l1*m2*cos(p)*cos(q1)*cos(r) - l2*m2*cos(q1 - q2)*cos(p)*cos(r)))/2 - r_dot*((sin(r)*(l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2)))/6 + (sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) + y_dot*((sin(r)*(l1^2*m1*cos(2*q1)*sin(p) + 3*l1^2*m1*cos(q1)^2*sin(p) + 12*l1^2*m2*cos(q1)^2*sin(p) - 3*l1^2*m1*sin(p)*sin(q1)^2 - 12*l1^2*m2*sin(p)*sin(q1)^2 + l2^2*m2*cos(2*q1 - 2*q2)*sin(p) + 3*l2^2*m2*cos(q1 - q2)^2*sin(p) - 3*l2^2*m2*sin(q1 - q2)^2*sin(p) + 8*l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r) + 12*l1*l2*m2*cos(q1 - q2)*cos(q1)*sin(p) - 12*l1*l2*m2*sin(q1 - q2)*sin(p)*sin(q1) + 8*l1^2*m1*cos(p)*cos(q1)*cos(r)*sin(q1) + 24*l1^2*m2*cos(p)*cos(q1)*cos(r)*sin(q1) + 12*l1*l2*m2*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 12*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1)*cos(r)))/24 - (sin(p)*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) + zb_dot*((l1*m1*cos(p)*sin(q1))/2 + l1*m2*cos(p)*sin(q1) - (l2*m2*cos(p)*cos(q1)*sin(q2))/2 + (l2*m2*cos(p)*cos(q2)*sin(q1))/2 + (l1*m1*cos(q1)*cos(r)*sin(p))/2 + l1*m2*cos(q1)*cos(r)*sin(p) + (l2*m2*cos(q1)*cos(q2)*cos(r)*sin(p))/2 + (l2*m2*cos(r)*sin(p)*sin(q1)*sin(q2))/2) + (p_dot*(cos(2*r) - 1)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/12 - (l1*l2*m2*q2_dot*cos(r)*sin(q2))/2, (l2*m2*r_dot*sin(r)*(2*l2 + 3*l1*cos(2*q1 - q2) + 2*l2*cos(2*q1 - 2*q2) + 3*l1*cos(q2)))/12 - (l2*m2*zb_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 - (l2*m2*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r))*(xb_dot*cos(y) + yb_dot*sin(y)))/2 - (l2*m2*y_dot*sin(r)*(l2*cos(2*q1 - 2*q2)*sin(p) - 4*l2*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) - 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 - (l2*m2*p_dot*(9*l1*sin(q2) + 2*l2*cos(2*q1)*sin(2*q2) - 2*l2*cos(2*q2)*sin(2*q1) + 3*l1*cos(2*q1)*sin(q2) - 3*l1*sin(2*q1)*cos(q2) + 3*l1*cos(2*r)*sin(q2) - 3*l1*cos(2*q1)*cos(2*r)*sin(q2) + 3*l1*cos(2*r)*sin(2*q1)*cos(q2) - 2*l2*cos(2*q1)*cos(2*r)*sin(2*q2) + 2*l2*cos(2*q2)*cos(2*r)*sin(2*q1)))/24 - (l1*l2*m2*q1_dot*cos(r)*sin(q2))/2 + (l1*l2*m2*q2_dot*cos(r)*sin(q2))/2;
% y_dot*(m2*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - m2*cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l1*m1*cos(p)*cos(q1)*cos(y))/2) + (q1_dot*(l2*m2*sin(q1 - q2)*cos(p)*sin(y) - l1*m1*cos(q1)*cos(y)*sin(r) - 2*l1*m2*cos(q1)*cos(y)*sin(r) + l1*m1*cos(p)*sin(q1)*sin(y) + 2*l1*m2*cos(p)*sin(q1)*sin(y) - l2*m2*cos(q1 - q2)*cos(y)*sin(r) + l1*m1*cos(q1)*cos(r)*sin(p)*sin(y) + 2*l1*m2*cos(q1)*cos(r)*sin(p)*sin(y) + l2*m2*cos(q1 - q2)*cos(r)*sin(p)*sin(y)))/2 + q2_dot*((l2*m2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*m2*sin(q1 - q2)*cos(p)*sin(y))/2) - (r_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 + (p_dot*sin(y)*(l1*m1*cos(q1)*sin(p) + 2*l1*m2*cos(q1)*sin(p) + l2*m2*cos(q1)*cos(q2)*sin(p) + l1*m1*cos(p)*cos(r)*sin(q1) + 2*l1*m2*cos(p)*cos(r)*sin(q1) + l2*m2*sin(p)*sin(q1)*sin(q2) - l2*m2*cos(p)*cos(q1)*cos(r)*sin(q2) + l2*m2*cos(p)*cos(q2)*cos(r)*sin(q1)))/2, q2_dot*((l2*m2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*m2*sin(q1 - q2)*cos(p)*cos(y))/2) - (q1_dot*(l2*m2*cos(q1 - q2)*sin(r)*sin(y) + l1*m1*cos(p)*cos(y)*sin(q1) + 2*l1*m2*cos(p)*cos(y)*sin(q1) + l1*m1*cos(q1)*sin(r)*sin(y) + 2*l1*m2*cos(q1)*sin(r)*sin(y) + l2*m2*sin(q1 - q2)*cos(p)*cos(y) + l1*m1*cos(q1)*cos(r)*cos(y)*sin(p) + 2*l1*m2*cos(q1)*cos(r)*cos(y)*sin(p) + l2*m2*cos(q1 - q2)*cos(r)*cos(y)*sin(p)))/2 - y_dot*(m2*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + m2*cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l1*m1*cos(p)*cos(q1)*sin(y))/2) - (r_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 - (p_dot*cos(y)*(l1*m1*cos(q1)*sin(p) + 2*l1*m2*cos(q1)*sin(p) + l2*m2*cos(q1)*cos(q2)*sin(p) + l1*m1*cos(p)*cos(r)*sin(q1) + 2*l1*m2*cos(p)*cos(r)*sin(q1) + l2*m2*sin(p)*sin(q1)*sin(q2) - l2*m2*cos(p)*cos(q1)*cos(r)*sin(q2) + l2*m2*cos(p)*cos(q2)*cos(r)*sin(q1)))/2, 0, (Iz*p_dot*cos(p))/2 - (Iy*p_dot*cos(p))/2 - (Ix*p_dot*cos(p))/2 + Iy*p_dot*cos(p)*cos(r)^2 - Iz*p_dot*cos(p)*cos(r)^2 - (l1^2*m1*p_dot*cos(p))/3 - l1^2*m2*p_dot*cos(p) + (l1^2*m1*p_dot*cos(p)*cos(q1)^2)/3 + l1^2*m2*p_dot*cos(p)*cos(q1)^2 - (l2^2*m2*p_dot*cos(p)*cos(q1)^2)/3 - (l2^2*m2*p_dot*cos(p)*cos(q2)^2)/3 + Iy*y_dot*cos(p)^2*cos(r)*sin(r) - Iz*y_dot*cos(p)^2*cos(r)*sin(r) + (l1^2*m1*p_dot*cos(p)*cos(r)^2)/3 + l1^2*m2*p_dot*cos(p)*cos(r)^2 + (l2^2*m2*q1_dot*cos(p)*cos(r))/3 - (l2^2*m2*q2_dot*cos(p)*cos(r))/3 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)^2)/3 - (l1^2*m1*p_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*p_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 - (l1*m1*xb_dot*cos(r)*cos(y)*sin(q1))/2 - l1*m2*xb_dot*cos(r)*cos(y)*sin(q1) - (l1*m1*yb_dot*cos(r)*sin(q1)*sin(y))/2 - l1*m2*yb_dot*cos(r)*sin(q1)*sin(y) - (l1^2*m1*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q2_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q1_dot*cos(q2)*sin(p)*sin(q2))/3 + (l2^2*m2*q2_dot*cos(q2)*sin(p)*sin(q2))/3 - l1*l2*m2*p_dot*cos(p)*cos(q2) - (l1*l2*m2*q1_dot*sin(p)*sin(q2))/2 + (l1*l2*m2*q2_dot*sin(p)*sin(q2))/2 + (l1^2*m1*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*q1_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l1^2*m1*y_dot*cos(p)^2*cos(r)*sin(r))/3 + l1^2*m2*y_dot*cos(p)^2*cos(r)*sin(r) + l1*l2*m2*q1_dot*cos(q1)^2*sin(p)*sin(q2) - (l1*l2*m2*q2_dot*cos(q1)^2*sin(p)*sin(q2))/2 + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 + (l2*m2*xb_dot*cos(q1)*cos(r)*cos(y)*sin(q2))/2 - (l2*m2*xb_dot*cos(q2)*cos(r)*cos(y)*sin(q1))/2 + (l2*m2*yb_dot*cos(q1)*cos(r)*sin(q2)*sin(y))/2 - (l2*m2*yb_dot*cos(q2)*cos(r)*sin(q1)*sin(y))/2 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r))/3 + (l2^2*m2*y_dot*cos(p)^2*cos(q2)^2*cos(r)*sin(r))/3 + (l1*m1*yb_dot*cos(y)*sin(p)*sin(q1)*sin(r))/2 + l1*m2*yb_dot*cos(y)*sin(p)*sin(q1)*sin(r) - (l1*m1*xb_dot*sin(p)*sin(q1)*sin(r)*sin(y))/2 - l1*m2*xb_dot*sin(p)*sin(q1)*sin(r)*sin(y) - (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 - (l1^2*m1*r_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 - l1^2*m2*r_dot*cos(p)*cos(q1)*sin(q1)*sin(r) + (l2^2*m2*r_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 - (l2^2*m2*r_dot*cos(p)*cos(q2)*sin(q2)*sin(r))/3 - (l1*l2*m2*r_dot*cos(p)*sin(q2)*sin(r))/2 - (2*l2^2*m2*q1_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*q1_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + (2*l2^2*m2*q2_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 - (2*l2^2*m2*q2_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2) + l1*l2*m2*p_dot*cos(p)*cos(q2)*cos(r)^2 - (l2*m2*yb_dot*cos(q1)*cos(y)*sin(p)*sin(q2)*sin(r))/2 + (l2*m2*yb_dot*cos(q2)*cos(y)*sin(p)*sin(q1)*sin(r))/2 + (l2*m2*xb_dot*cos(q1)*sin(p)*sin(q2)*sin(r)*sin(y))/2 - (l2*m2*xb_dot*cos(q2)*sin(p)*sin(q1)*sin(r)*sin(y))/2 - l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(q2))/3 + (l1^2*m1*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r))/3 + l1^2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r) - (l2^2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r))/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)*sin(p)*sin(q2)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)^2*cos(r)*sin(r))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*sin(q1)*sin(q2) - l1*l2*m2*q1_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + (l1*l2*m2*q2_dot*cos(q1)*cos(q2)*sin(p)*sin(q1))/2 + (l1*l2*m2*y_dot*cos(p)*sin(p)*sin(q2)*sin(r))/2 - (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)^2*sin(q1)*sin(r))/3 + (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*sin(q2)*sin(r))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r))/2 + l1*l2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)*sin(r) + l1*l2*m2*r_dot*cos(p)*cos(q1)^2*sin(q2)*sin(r) - l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)*sin(r) + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2))/2 - l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(r) - (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)^2*sin(p)*sin(q1)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*sin(p)*sin(q2)*sin(r))/3 - l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2) - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*sin(p)*sin(q2)*sin(r) + l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(r) - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)*sin(r))/3 - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1)*sin(q2)*sin(r), (Ix*y_dot*sin(2*p))/2 - (Iy*y_dot*sin(2*p))/2 - (Ix*r_dot*cos(p))/2 - (Iy*r_dot*cos(p))/2 + (Iz*r_dot*cos(p))/2 + Iy*r_dot*cos(p)*cos(r)^2 - Iz*r_dot*cos(p)*cos(r)^2 - (l2^2*m2*y_dot*sin(2*p))/6 - (l1^2*m1*r_dot*cos(p))/3 - l1^2*m2*r_dot*cos(p) + Iy*y_dot*cos(p)*cos(r)^2*sin(p) - Iz*y_dot*cos(p)*cos(r)^2*sin(p) + (l1^2*m1*r_dot*cos(p)*cos(q1)^2)/3 + l1^2*m2*r_dot*cos(p)*cos(q1)^2 - (l2^2*m2*r_dot*cos(p)*cos(q1)^2)/3 - (l2^2*m2*r_dot*cos(p)*cos(q2)^2)/3 + (l1^2*m1*r_dot*cos(p)*cos(r)^2)/3 + l1^2*m2*r_dot*cos(p)*cos(r)^2 - Iy*p_dot*cos(r)*sin(p)*sin(r) + Iz*p_dot*cos(r)*sin(p)*sin(r) - (l1^2*m1*q1_dot*sin(p)*sin(r))/3 - l1^2*m2*q1_dot*sin(p)*sin(r) + (l2^2*m2*q2_dot*sin(p)*sin(r))/6 + (l1^2*m1*q1_dot*cos(q1)^2*sin(p)*sin(r))/3 + l1^2*m2*q1_dot*cos(q1)^2*sin(p)*sin(r) - (l2^2*m2*q1_dot*cos(q1)^2*sin(p)*sin(r))/3 - (l2^2*m2*q1_dot*cos(q2)^2*sin(p)*sin(r))/3 - (l2^2*m2*q2_dot*cos(2*q1 - 2*q2)*sin(p)*sin(r))/24 - (l2^2*m2*q2_dot*cos(q1 - q2)^2*sin(p)*sin(r))/8 + (l2^2*m2*q2_dot*sin(q1 - q2)^2*sin(p)*sin(r))/8 + (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2)/3 - (l1*m1*yb_dot*cos(q1)*cos(y)*sin(p))/2 - l1*m2*yb_dot*cos(q1)*cos(y)*sin(p) - (l1^2*m1*r_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*r_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 + (l1*m1*xb_dot*cos(q1)*sin(p)*sin(y))/2 + l1*m2*xb_dot*cos(q1)*sin(p)*sin(y) + (l1^2*m1*y_dot*cos(q1)*cos(r)*sin(q1))/3 + l1^2*m2*y_dot*cos(q1)*cos(r)*sin(q1) - (l2^2*m2*y_dot*cos(q1)*cos(r)*sin(q1))/3 + (l2^2*m2*y_dot*cos(q2)*cos(r)*sin(q2))/3 - (l1^2*m1*p_dot*cos(r)*sin(p)*sin(r))/3 - l1^2*m2*p_dot*cos(r)*sin(p)*sin(r) - l1*l2*m2*r_dot*cos(p)*cos(q2) + (l1*l2*m2*y_dot*cos(r)*sin(q2))/2 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*sin(p))/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*sin(p) + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*sin(p))/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*sin(p))/3 + (l1^2*m1*y_dot*cos(p)*cos(r)^2*sin(p))/3 + l1^2*m2*y_dot*cos(p)*cos(r)^2*sin(p) - l1*l2*m2*y_dot*cos(p)^2*cos(r)*sin(q2) - l1*l2*m2*y_dot*cos(q1)^2*cos(r)*sin(q2) - (l2*m2*yb_dot*cos(q1)*cos(q2)*cos(y)*sin(p))/2 - (l1*m1*yb_dot*cos(p)*cos(r)*cos(y)*sin(q1))/2 - l1*m2*yb_dot*cos(p)*cos(r)*cos(y)*sin(q1) + (l2*m2*xb_dot*cos(q1)*cos(q2)*sin(p)*sin(y))/2 + (l1*m1*xb_dot*cos(p)*cos(r)*sin(q1)*sin(y))/2 + l1*m2*xb_dot*cos(p)*cos(r)*sin(q1)*sin(y) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*sin(p))/3 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)^2*sin(p))/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2*sin(p) + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2*sin(p))/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)^2*sin(p))/3 + (2*l2^2*m2*q1_dot*cos(q1)^2*cos(q2)^2*sin(p)*sin(r))/3 - (l2*m2*yb_dot*cos(y)*sin(p)*sin(q1)*sin(q2))/2 + (l2*m2*xb_dot*sin(p)*sin(q1)*sin(q2)*sin(y))/2 + (l1^2*m1*p_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 + l1^2*m2*p_dot*cos(p)*cos(q1)*sin(q1)*sin(r) - (l2^2*m2*p_dot*cos(p)*cos(q1)*sin(q1)*sin(r))/3 + (l2^2*m2*p_dot*cos(p)*cos(q2)*sin(q2)*sin(r))/3 - (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 + (l1*l2*m2*p_dot*cos(p)*sin(q2)*sin(r))/2 - l1*l2*m2*q1_dot*cos(q2)*sin(p)*sin(r) + (l1*l2*m2*q2_dot*cos(q2)*sin(p)*sin(r))/4 - (2*l1^2*m1*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1))/3 - 2*l1^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1) + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)*sin(q2))/3 + (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*cos(r)*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*cos(r)*sin(q2))/3 + (l1^2*m1*p_dot*cos(q1)^2*cos(r)*sin(p)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*cos(r)*sin(p)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*cos(r)*sin(p)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*cos(r)*sin(p)*sin(r))/3 + l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2) + l1*l2*m2*r_dot*cos(p)*cos(q2)*cos(r)^2 - (4*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*cos(r)*sin(q1))/3 + (4*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*cos(r)*sin(p)*sin(r))/3 - l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 + 2*l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(q2) + (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(q2))/3 + (l1^2*m1*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + l1^2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r) - (l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + (l2^2*m2*q1_dot*cos(p)*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2*sin(p))/3 + l1*l2*m2*y_dot*cos(q1)*cos(q2)*cos(r)*sin(q1) - l1*l2*m2*p_dot*cos(q2)*cos(r)*sin(p)*sin(r) + l1*l2*m2*r_dot*cos(p)*cos(q1)*sin(q1)*sin(q2) + (l1*l2*m2*q1_dot*cos(p)*cos(r)*sin(q2)*sin(r))/2 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)^2*sin(q1)*sin(r))/3 - (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*sin(q2)*sin(r))/3 - (l2^2*m2*q2_dot*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)*sin(r))/3 - (l1*l2*m2*q2_dot*cos(q1 - q2)*cos(q1)*sin(p)*sin(r))/4 + (l1*l2*m2*q2_dot*sin(q1 - q2)*sin(p)*sin(q1)*sin(r))/4 - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*sin(p) + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)^2*sin(p) - l1*l2*m2*p_dot*cos(p)*cos(q1)^2*sin(q2)*sin(r) + l1*l2*m2*q1_dot*cos(q1)^2*cos(q2)*sin(p)*sin(r) + (l2*m2*yb_dot*cos(p)*cos(q1)*cos(r)*cos(y)*sin(q2))/2 - (l2*m2*yb_dot*cos(p)*cos(q2)*cos(r)*cos(y)*sin(q1))/2 - (l2*m2*xb_dot*cos(p)*cos(q1)*cos(r)*sin(q2)*sin(y))/2 + (l2*m2*xb_dot*cos(p)*cos(q2)*cos(r)*sin(q1)*sin(y))/2 - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2*sin(p) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2))/3 + (2*l2^2*m2*q1_dot*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*sin(q1)*sin(r) - l1*l2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(q2) + l1*l2*m2*q1_dot*cos(q1)*sin(p)*sin(q1)*sin(q2)*sin(r) + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)^2*cos(r)*sin(q1)*sin(r))/3 - (2*l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 - (l1*l2*m2*q2_dot*cos(q1 - q2)*cos(p)*cos(r)*sin(q1)*sin(r))/2 - 2*l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)*sin(q1) + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*cos(r)*sin(p)*sin(r) - l1*l2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r)*sin(q2)*sin(r) - l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2) + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(r) + l1*l2*m2*p_dot*cos(q1)*cos(r)*sin(p)*sin(q1)*sin(q2)*sin(r) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(p)*sin(q1)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)^2*sin(p)*sin(q1)*sin(q2), xb_dot*(m2*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - m2*cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l1*m1*cos(p)*cos(q1)*cos(y))/2) - yb_dot*(m2*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + m2*cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l1*m1*cos(p)*cos(q1)*sin(y))/2) + p_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(cos(y)*sin(p)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*cos(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2)) - 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(sin(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))))/2 + (cos(p)*(sin(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) - cos(p)*cos(r)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 + (sin(p)*(cos(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) + cos(r)*sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 - (l1^2*m1*(2*cos(p)*cos(q1)^2*sin(p) - 2*cos(p)*cos(r)^2*sin(p) - 2*cos(q1)*cos(r)*sin(q1) + 4*cos(p)^2*cos(q1)*cos(r)*sin(q1) + 2*cos(p)*cos(q1)^2*cos(r)^2*sin(p)))/8 - (cos(p)*cos(r)*(cos(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) + cos(r)*sin(p)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 + (cos(r)*sin(p)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) - cos(p)*cos(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 - cos(p)*sin(p)*sin(r)^2*(Iy + (l1^2*m1)/12 + (l2^2*m2)/12)) - q2_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*sin(q1 - q2)*cos(p)*cos(y))/2) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*sin(q1 - q2)*cos(p)*sin(y))/2)))/2 + (sin(p)*((l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*sin(p))/6 - (l2^2*m2*cos(2*q1 - 2*q2)*cos(p)*cos(r))/12))/2 - (cos(p)*cos(r)*((l2^2*m2*cos(2*q1 - 2*q2)*sin(p))/12 + (l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r))/6))/2) + r_dot*((cos(p)*sin(r)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) - cos(p)*cos(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 + cos(p)^2*cos(r)*sin(r)*(Iy + (l1^2*m1)/12 + (l2^2*m2)/12) + (cos(p)*sin(p)*sin(r)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24))/2 - (cos(p)^2*cos(r)*sin(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12))/2 + (m2*sin(r)*(2*l1*sin(q1) + l2*sin(q1 - q2))*(2*l1*cos(r)*sin(q1) + l2*sin(q1 - q2)*cos(r) + 2*l1*cos(p)*cos(q1)*sin(p) + l2*cos(q1 - q2)*cos(p)*sin(p) - 2*l1*cos(r)*sin(p)^2*sin(q1) - l2*sin(q1 - q2)*cos(r)*sin(p)^2))/4 + (l1^2*m1*cos(p)*sin(r)*(cos(p)*cos(r) - cos(p)*cos(q1)^2*cos(r) + cos(q1)*sin(p)*sin(q1)))/4) + q1_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2)) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*cos(q1) + (l2*cos(q1 - q2))/2) - cos(p)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))))/2 + (sin(p)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/12 + (l1^2*m1*sin(2*q1))/12) - cos(p)*cos(r)*((l1^2*m1*cos(2*q1))/12 + (l2^2*m2*cos(2*q1 - 2*q2))/12)))/2 - (cos(p)*cos(r)*(sin(p)*((l1^2*m1*cos(2*q1))/12 + (l2^2*m2*cos(2*q1 - 2*q2))/12) + cos(p)*cos(r)*((l2^2*m2*sin(2*q1 - 2*q2))/12 + (l1^2*m1*sin(2*q1))/12)))/2 - (l1^2*m1*(2*cos(p)^2*cos(q1)*sin(q1) - 2*cos(q1)*sin(q1) - 2*cos(p)*cos(r)*sin(p) + 4*cos(p)*cos(q1)^2*cos(r)*sin(p) + 2*cos(p)^2*cos(q1)*cos(r)^2*sin(q1)))/8), (l1^2*m1*y_dot*sin(2*q1))/6 + (l1^2*m2*y_dot*sin(2*q1))/2 - (l2^2*m2*y_dot*sin(2*q1))/6 + (l2^2*m2*y_dot*sin(2*q2))/6 + (l1*l2*m2*y_dot*sin(q2))/2 + (l2^2*m2*r_dot*cos(p)*cos(r))/3 - (l1^2*m1*p_dot*sin(p)*sin(r))/3 - l1^2*m2*p_dot*sin(p)*sin(r) + (l1^2*m1*p_dot*cos(q1)^2*sin(p)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*sin(p)*sin(r))/3 - (l1*l2*m2*y_dot*cos(p)^2*sin(q2))/2 - l1*l2*m2*y_dot*cos(q1)^2*sin(q2) - (l1*m1*yb_dot*cos(p)*cos(y)*sin(q1))/2 - l1*m2*yb_dot*cos(p)*cos(y)*sin(q1) - (l1*m1*xb_dot*cos(q1)*cos(y)*sin(r))/2 - l1*m2*xb_dot*cos(q1)*cos(y)*sin(r) + (l1*m1*xb_dot*cos(p)*sin(q1)*sin(y))/2 + l1*m2*xb_dot*cos(p)*sin(q1)*sin(y) - (l1*m1*yb_dot*cos(q1)*sin(r)*sin(y))/2 - l1*m2*yb_dot*cos(q1)*sin(r)*sin(y) + (l1^2*m1*y_dot*cos(p)*cos(r)*sin(p))/3 + l1^2*m2*y_dot*cos(p)*cos(r)*sin(p) - (l2^2*m2*y_dot*cos(p)*cos(r)*sin(p))/3 - (l1^2*m1*r_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*r_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*r_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*r_dot*cos(q2)*sin(p)*sin(q2))/3 - (l1*l2*m2*r_dot*sin(p)*sin(q2))/2 + (l1^2*m1*r_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*r_dot*cos(p)*cos(q2)^2*cos(r))/3 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 - (l2^2*m2*y_dot*cos(p)^2*cos(q2)*sin(q2))/3 + (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*sin(q2))/3 + l1*l2*m2*r_dot*cos(q1)^2*sin(p)*sin(q2) + (l2*m2*yb_dot*cos(p)*cos(q1)*cos(y)*sin(q2))/2 - (l2*m2*yb_dot*cos(p)*cos(q2)*cos(y)*sin(q1))/2 + (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (l1*m1*yb_dot*cos(q1)*cos(r)*cos(y)*sin(p))/2 - l1*m2*yb_dot*cos(q1)*cos(r)*cos(y)*sin(p) - (l2*m2*xb_dot*cos(q1)*cos(q2)*cos(y)*sin(r))/2 - (l2*m2*xb_dot*cos(p)*cos(q1)*sin(q2)*sin(y))/2 + (l2*m2*xb_dot*cos(p)*cos(q2)*sin(q1)*sin(y))/2 + (l1*m1*xb_dot*cos(q1)*cos(r)*sin(p)*sin(y))/2 + l1*m2*xb_dot*cos(q1)*cos(r)*sin(p)*sin(y) - (l2*m2*yb_dot*cos(q1)*cos(q2)*sin(r)*sin(y))/2 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*sin(q2))/3 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 - (l2^2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)^2*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*sin(p)*sin(r))/3 - (l2*m2*xb_dot*cos(y)*sin(q1)*sin(q2)*sin(r))/2 - (l2*m2*yb_dot*sin(q1)*sin(q2)*sin(r)*sin(y))/2 + l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*sin(q2) - (l1*l2*m2*y_dot*cos(p)^2*cos(r)^2*sin(q2))/2 + l1*l2*m2*y_dot*cos(q1)*cos(q2)*sin(q1) - l1*l2*m2*p_dot*cos(q2)*sin(p)*sin(r) - (l1*l2*m2*q2_dot*cos(p)*sin(q2)*sin(r))/2 - (2*l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 - 2*l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p) + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 + (2*l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)*sin(p))/3 - (2*l2^2*m2*r_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*r_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 - (4*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)*sin(p))/3 - (l2*m2*yb_dot*cos(r)*cos(y)*sin(p)*sin(q1)*sin(q2))/2 + (l2*m2*xb_dot*cos(r)*sin(p)*sin(q1)*sin(q2)*sin(y))/2 + (l1^2*m1*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + l1^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r) - (l2^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + (l2^2*m2*p_dot*cos(p)*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*cos(r)^2*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)^2*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)*sin(p) + (l1*l2*m2*p_dot*cos(p)*cos(r)*sin(q2)*sin(r))/2 - l1*l2*m2*r_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)^2*sin(q2) + l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*sin(q1) + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*sin(p)*sin(r) - (l2*m2*yb_dot*cos(q1)*cos(q2)*cos(r)*cos(y)*sin(p))/2 + (l2*m2*xb_dot*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(y))/2 - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)^2*sin(q1) + (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) + l1*l2*m2*p_dot*cos(q1)*sin(p)*sin(q1)*sin(q2)*sin(r) + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)^2*cos(r)*sin(q1)*sin(r))/3 - (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - 2*l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(p) - l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)*sin(q2)*sin(r) - (4*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1)*sin(q2))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(r) - 2*l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)*sin(p)*sin(q1)*sin(q2), (l2*m2*(3*l1*r_dot*sin(p)*sin(q2) + 3*yb_dot*sin(q1 - q2)*cos(p)*cos(y) + 3*xb_dot*cos(q1 - q2)*cos(y)*sin(r) - 3*xb_dot*sin(q1 - q2)*cos(p)*sin(y) + 3*yb_dot*cos(q1 - q2)*sin(r)*sin(y) - 2*l2*r_dot*cos(p)*cos(r) + 2*l2*r_dot*cos(p)*cos(q1)^2*cos(r) + 2*l2*r_dot*cos(p)*cos(q2)^2*cos(r) - 3*l1*r_dot*cos(q1)^2*sin(p)*sin(q2) + 3*yb_dot*cos(q1 - q2)*cos(r)*cos(y)*sin(p) - 3*xb_dot*cos(q1 - q2)*cos(r)*sin(p)*sin(y) - 2*l2*r_dot*cos(q1)*sin(p)*sin(q1) + 2*l2*r_dot*cos(q2)*sin(p)*sin(q2) + 4*l2*r_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1) - 4*l2*r_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2) - 4*l2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) + 3*l1*r_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) - 3*l1*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - 3*l1*r_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - 4*l2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/6 - y_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*sin(q1 - q2)*cos(p)*cos(y))/2) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*sin(q1 - q2)*cos(p)*sin(y))/2)))/2 + (sin(p)*((l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*sin(p))/6 - (l2^2*m2*cos(2*q1 - 2*q2)*cos(p)*cos(r))/12))/2 - (cos(p)*cos(r)*((l2^2*m2*cos(2*q1 - 2*q2)*sin(p))/12 + (l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r))/6))/2) - (l2*m2*p_dot*sin(r)*(l2*cos(2*q1 - 2*q2)*sin(p) - 4*l2*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) - 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 - (l1*l2*m2*q1_dot*cos(p)*sin(q2)*sin(r))/2 + (l1*l2*m2*q2_dot*cos(p)*sin(q2)*sin(r))/2;
% q1_dot*((m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)) - cos(p)*cos(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)) - y_dot*(((m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (m2*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*cos(q1) + (l2*cos(q1 - q2))/2))/2 - (cos(p)*sin(y)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2))/2 - (m2*cos(p)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))/2 + (l1*m1*cos(q1)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/4 - (l1*m1*cos(p)*sin(q1)*sin(y))/4) - q2_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + p_dot*((m2*cos(y)*(sin(p)*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(r)*(l1*cos(q1) + (l2*cos(q1 - q2))/2)))/2 + (cos(y)*sin(p)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2))/2 + (l1*m1*cos(y)*(sin(p)*sin(q1) - cos(p)*cos(q1)*cos(r)))/4 - (cos(p)*cos(r)*cos(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2))/2) - (r_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2, q2_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - q1_dot*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*((l1*m1*sin(q1))/2 + l1*m2*sin(q1) + (l2*m2*sin(q1 - q2))/2) + cos(p)*sin(y)*((l1*m1*cos(q1))/2 + l1*m2*cos(q1) + (l2*m2*cos(q1 - q2))/2)) - (y_dot*(l2*m2*cos(q1 - q2)*sin(r)*sin(y) + l1*m1*cos(p)*cos(y)*sin(q1) + 2*l1*m2*cos(p)*cos(y)*sin(q1) + l1*m1*cos(q1)*sin(r)*sin(y) + 2*l1*m2*cos(q1)*sin(r)*sin(y) + l2*m2*sin(q1 - q2)*cos(p)*cos(y) + l1*m1*cos(q1)*cos(r)*cos(y)*sin(p) + 2*l1*m2*cos(q1)*cos(r)*cos(y)*sin(p) + l2*m2*cos(q1 - q2)*cos(r)*cos(y)*sin(p)))/2 + (r_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 + (p_dot*sin(y)*(l1*m1*sin(p)*sin(q1) + 2*l1*m2*sin(p)*sin(q1) + l2*m2*sin(q1 - q2)*sin(p) - l1*m1*cos(p)*cos(q1)*cos(r) - 2*l1*m2*cos(p)*cos(q1)*cos(r) - l2*m2*cos(q1 - q2)*cos(p)*cos(r)))/2, q1_dot*(sin(p)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2) + cos(p)*cos(r)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)) - (l2*m2*q2_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 + (l1*m1*p_dot*cos(p)*sin(q1))/2 + l1*m2*p_dot*cos(p)*sin(q1) + (l2*m2*p_dot*sin(q1 - q2)*cos(p))/2 + (l1*m1*p_dot*cos(q1)*cos(r)*sin(p))/2 + l1*m2*p_dot*cos(q1)*cos(r)*sin(p) + (l1*m1*r_dot*cos(p)*cos(q1)*sin(r))/2 + l1*m2*r_dot*cos(p)*cos(q1)*sin(r) + (l2*m2*p_dot*cos(q1 - q2)*cos(r)*sin(p))/2 + (l2*m2*r_dot*cos(q1 - q2)*cos(p)*sin(r))/2, r_dot*((l2^2*m2*sin(2*q1 - 2*q2))/6 + (l1^2*m1*sin(2*q1))/6 + (l1^2*m2*sin(2*q1))/2 + (l1*l2*m2*sin(2*q1 - q2))/2) + ((l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2))*(yb_dot*cos(r)*cos(y) + zb_dot*cos(p)*sin(r) - xb_dot*cos(r)*sin(y) + xb_dot*cos(y)*sin(p)*sin(r) + yb_dot*sin(p)*sin(r)*sin(y)))/2 + (y_dot*(2*l2^2*m2*cos(p)*cos(r) - 2*l1^2*m1*cos(q1)*sin(p)*sin(q1) - 6*l1^2*m2*cos(q1)*sin(p)*sin(q1) + 2*l2^2*m2*cos(q1)*sin(p)*sin(q1) - 2*l2^2*m2*cos(q2)*sin(p)*sin(q2) - 3*l1*l2*m2*sin(p)*sin(q2) + 2*l1^2*m1*cos(p)*cos(q1)^2*cos(r) + 6*l1^2*m2*cos(p)*cos(q1)^2*cos(r) - 2*l2^2*m2*cos(p)*cos(q1)^2*cos(r) - 2*l2^2*m2*cos(p)*cos(q2)^2*cos(r) - 4*l2^2*m2*cos(q1)*cos(q2)^2*sin(p)*sin(q1) + 4*l2^2*m2*cos(q1)^2*cos(q2)*sin(p)*sin(q2) + 6*l1*l2*m2*cos(q1)^2*sin(p)*sin(q2) + 4*l2^2*m2*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) - 6*l1*l2*m2*cos(q1)*cos(q2)*sin(p)*sin(q1) + 6*l1*l2*m2*cos(p)*cos(q1)^2*cos(q2)*cos(r) + 4*l2^2*m2*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2) + 6*l1*l2*m2*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2)))/6 - (p_dot*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2) + 3*l1*l2*m2*cos(q2)))/6, ((xb_dot*cos(y) + yb_dot*sin(y))*(l1*m1*sin(p)*sin(q1) + 2*l1*m2*sin(p)*sin(q1) + l2*m2*sin(q1 - q2)*sin(p) - l1*m1*cos(p)*cos(q1)*cos(r) - 2*l1*m2*cos(p)*cos(q1)*cos(r) - l2*m2*cos(q1 - q2)*cos(p)*cos(r)))/2 - r_dot*((sin(r)*(l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2)))/6 + (sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) + y_dot*((sin(r)*(l1^2*m1*cos(2*q1)*sin(p) + 3*l1^2*m1*cos(q1)^2*sin(p) + 12*l1^2*m2*cos(q1)^2*sin(p) - 3*l1^2*m1*sin(p)*sin(q1)^2 - 12*l1^2*m2*sin(p)*sin(q1)^2 + l2^2*m2*cos(2*q1 - 2*q2)*sin(p) + 3*l2^2*m2*cos(q1 - q2)^2*sin(p) - 3*l2^2*m2*sin(q1 - q2)^2*sin(p) + 8*l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r) + 12*l1*l2*m2*cos(q1 - q2)*cos(q1)*sin(p) - 12*l1*l2*m2*sin(q1 - q2)*sin(p)*sin(q1) + 8*l1^2*m1*cos(p)*cos(q1)*cos(r)*sin(q1) + 24*l1^2*m2*cos(p)*cos(q1)*cos(r)*sin(q1) + 12*l1*l2*m2*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 12*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1)*cos(r)))/24 - (sin(p)*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) + zb_dot*((l1*m1*cos(p)*sin(q1))/2 + l1*m2*cos(p)*sin(q1) - (l2*m2*cos(p)*cos(q1)*sin(q2))/2 + (l2*m2*cos(p)*cos(q2)*sin(q1))/2 + (l1*m1*cos(q1)*cos(r)*sin(p))/2 + l1*m2*cos(q1)*cos(r)*sin(p) + (l2*m2*cos(q1)*cos(q2)*cos(r)*sin(p))/2 + (l2*m2*cos(r)*sin(p)*sin(q1)*sin(q2))/2) + (p_dot*(cos(2*r) - 1)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/12 - (l1*l2*m2*q2_dot*cos(r)*sin(q2))/2, (l1^2*m1*y_dot*sin(2*q1))/6 + (l1^2*m2*y_dot*sin(2*q1))/2 - (l2^2*m2*y_dot*sin(2*q1))/6 + (l2^2*m2*y_dot*sin(2*q2))/6 + (l1*l2*m2*y_dot*sin(q2))/2 + (l2^2*m2*r_dot*cos(p)*cos(r))/3 - (l1^2*m1*p_dot*sin(p)*sin(r))/3 - l1^2*m2*p_dot*sin(p)*sin(r) + (l1^2*m1*p_dot*cos(q1)^2*sin(p)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*sin(p)*sin(r))/3 - (l1*l2*m2*y_dot*cos(p)^2*sin(q2))/2 - l1*l2*m2*y_dot*cos(q1)^2*sin(q2) - (l1*m1*yb_dot*cos(p)*cos(y)*sin(q1))/2 - l1*m2*yb_dot*cos(p)*cos(y)*sin(q1) - (l1*m1*xb_dot*cos(q1)*cos(y)*sin(r))/2 - l1*m2*xb_dot*cos(q1)*cos(y)*sin(r) + (l1*m1*xb_dot*cos(p)*sin(q1)*sin(y))/2 + l1*m2*xb_dot*cos(p)*sin(q1)*sin(y) - (l1*m1*yb_dot*cos(q1)*sin(r)*sin(y))/2 - l1*m2*yb_dot*cos(q1)*sin(r)*sin(y) + (l1^2*m1*y_dot*cos(p)*cos(r)*sin(p))/3 + l1^2*m2*y_dot*cos(p)*cos(r)*sin(p) - (l2^2*m2*y_dot*cos(p)*cos(r)*sin(p))/3 - (l1^2*m1*r_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*r_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*r_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*r_dot*cos(q2)*sin(p)*sin(q2))/3 - (l1*l2*m2*r_dot*sin(p)*sin(q2))/2 + (l1^2*m1*r_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*r_dot*cos(p)*cos(q2)^2*cos(r))/3 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 - (l2^2*m2*y_dot*cos(p)^2*cos(q2)*sin(q2))/3 + (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*sin(q2))/3 + l1*l2*m2*r_dot*cos(q1)^2*sin(p)*sin(q2) + (l2*m2*yb_dot*cos(p)*cos(q1)*cos(y)*sin(q2))/2 - (l2*m2*yb_dot*cos(p)*cos(q2)*cos(y)*sin(q1))/2 + (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (l1*m1*yb_dot*cos(q1)*cos(r)*cos(y)*sin(p))/2 - l1*m2*yb_dot*cos(q1)*cos(r)*cos(y)*sin(p) - (l2*m2*xb_dot*cos(q1)*cos(q2)*cos(y)*sin(r))/2 - (l2*m2*xb_dot*cos(p)*cos(q1)*sin(q2)*sin(y))/2 + (l2*m2*xb_dot*cos(p)*cos(q2)*sin(q1)*sin(y))/2 + (l1*m1*xb_dot*cos(q1)*cos(r)*sin(p)*sin(y))/2 + l1*m2*xb_dot*cos(q1)*cos(r)*sin(p)*sin(y) - (l2*m2*yb_dot*cos(q1)*cos(q2)*sin(r)*sin(y))/2 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*sin(q2))/3 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 - (l2^2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)^2*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*sin(p)*sin(r))/3 - (l2*m2*xb_dot*cos(y)*sin(q1)*sin(q2)*sin(r))/2 - (l2*m2*yb_dot*sin(q1)*sin(q2)*sin(r)*sin(y))/2 + l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*sin(q2) - (l1*l2*m2*y_dot*cos(p)^2*cos(r)^2*sin(q2))/2 + l1*l2*m2*y_dot*cos(q1)*cos(q2)*sin(q1) - l1*l2*m2*p_dot*cos(q2)*sin(p)*sin(r) - (l1*l2*m2*q2_dot*cos(p)*sin(q2)*sin(r))/2 - (2*l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 - 2*l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p) + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 + (2*l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)*sin(p))/3 - (2*l2^2*m2*r_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*r_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 - (4*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)*sin(p))/3 - (l2*m2*yb_dot*cos(r)*cos(y)*sin(p)*sin(q1)*sin(q2))/2 + (l2*m2*xb_dot*cos(r)*sin(p)*sin(q1)*sin(q2)*sin(y))/2 + (l1^2*m1*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + l1^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r) - (l2^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + (l2^2*m2*p_dot*cos(p)*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*cos(r)^2*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)^2*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)*sin(p) + (l1*l2*m2*p_dot*cos(p)*cos(r)*sin(q2)*sin(r))/2 - l1*l2*m2*r_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)^2*sin(q2) + l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*sin(q1) + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*sin(p)*sin(r) - (l2*m2*yb_dot*cos(q1)*cos(q2)*cos(r)*cos(y)*sin(p))/2 + (l2*m2*xb_dot*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(y))/2 - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)^2*sin(q1) + (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) + l1*l2*m2*p_dot*cos(q1)*sin(p)*sin(q1)*sin(q2)*sin(r) + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)^2*cos(r)*sin(q1)*sin(r))/3 - (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - 2*l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(p) - l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)*sin(q2)*sin(r) - (4*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1)*sin(q2))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(r) - 2*l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)*sin(p)*sin(q1)*sin(q2), xb_dot*((m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)) - cos(p)*cos(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)) - yb_dot*((m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)) + cos(p)*sin(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)) + zb_dot*(sin(p)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2) + cos(p)*cos(r)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)) - (l1*l2*m2*q2_dot*sin(q2))/2, yb_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - xb_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) - (l2*m2*zb_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l1*l2*m2*q1_dot*sin(q2))/2 + (l1*l2*m2*q2_dot*sin(q2))/2 - (l1*l2*m2*p_dot*cos(r)*sin(q2))/2 - (l1*l2*m2*y_dot*cos(p)*sin(q2)*sin(r))/2;
% y_dot*((l2*m2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*m2*sin(q1 - q2)*cos(p)*sin(y))/2) - q1_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + q2_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + (l2*m2*r_dot*cos(q1 - q2)*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r)))/2 - (l2*m2*p_dot*cos(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2, y_dot*((l2*m2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*m2*sin(q1 - q2)*cos(p)*cos(y))/2) + q1_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - q2_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - (l2*m2*r_dot*cos(q1 - q2)*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y)))/2 - (l2*m2*p_dot*sin(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2, (l2*m2*q2_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l2*m2*q1_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l2*m2*p_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 - (l2*m2*r_dot*cos(q1 - q2)*cos(p)*sin(r))/2, -(l2*m2*(3*l1*r_dot*sin(q2) - 2*l2*p_dot*sin(r) + 3*l1*r_dot*sin(2*q1 - q2) + 2*l2*r_dot*sin(2*q1 - 2*q2) - 6*l1*y_dot*sin(p)*sin(q2) - 3*l1*p_dot*cos(2*q1 - q2)*sin(r) - 2*l2*p_dot*cos(2*q1 - 2*q2)*sin(r) + 6*yb_dot*cos(q1 - q2)*cos(r)*cos(y) + 6*zb_dot*cos(q1 - q2)*cos(p)*sin(r) - 6*xb_dot*cos(q1 - q2)*cos(r)*sin(y) + 4*l2*y_dot*cos(p)*cos(r) - 3*l1*p_dot*cos(q2)*sin(r) - 4*l2*y_dot*cos(p)*cos(q1)^2*cos(r) - 4*l2*y_dot*cos(p)*cos(q2)^2*cos(r) + 6*l1*y_dot*cos(q1)^2*sin(p)*sin(q2) + 6*xb_dot*cos(q1 - q2)*cos(y)*sin(p)*sin(r) + 6*yb_dot*cos(q1 - q2)*sin(p)*sin(r)*sin(y) + 4*l2*y_dot*cos(q1)*sin(p)*sin(q1) - 4*l2*y_dot*cos(q2)*sin(p)*sin(q2) - 8*l2*y_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1) + 8*l2*y_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2) + 8*l2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) - 6*l1*y_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + 6*l1*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) + 6*l1*y_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) + 8*l2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/12, (l2*m2*r_dot*sin(r)*(2*l2 + 3*l1*cos(2*q1 - q2) + 2*l2*cos(2*q1 - 2*q2) + 3*l1*cos(q2)))/12 - (l2*m2*zb_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 - (l2*m2*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r))*(xb_dot*cos(y) + yb_dot*sin(y)))/2 - (l2*m2*y_dot*sin(r)*(l2*cos(2*q1 - 2*q2)*sin(p) - 4*l2*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) - 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 - (l2*m2*p_dot*(9*l1*sin(q2) + 2*l2*cos(2*q1)*sin(2*q2) - 2*l2*cos(2*q2)*sin(2*q1) + 3*l1*cos(2*q1)*sin(q2) - 3*l1*sin(2*q1)*cos(q2) + 3*l1*cos(2*r)*sin(q2) - 3*l1*cos(2*q1)*cos(2*r)*sin(q2) + 3*l1*cos(2*r)*sin(2*q1)*cos(q2) - 2*l2*cos(2*q1)*cos(2*r)*sin(2*q2) + 2*l2*cos(2*q2)*cos(2*r)*sin(2*q1)))/24 - (l1*l2*m2*q1_dot*cos(r)*sin(q2))/2 + (l1*l2*m2*q2_dot*cos(r)*sin(q2))/2, (l2*m2*(3*l1*r_dot*sin(p)*sin(q2) + 3*yb_dot*sin(q1 - q2)*cos(p)*cos(y) + 3*xb_dot*cos(q1 - q2)*cos(y)*sin(r) - 3*xb_dot*sin(q1 - q2)*cos(p)*sin(y) + 3*yb_dot*cos(q1 - q2)*sin(r)*sin(y) - 2*l2*r_dot*cos(p)*cos(r) + 2*l2*r_dot*cos(p)*cos(q1)^2*cos(r) + 2*l2*r_dot*cos(p)*cos(q2)^2*cos(r) - 3*l1*r_dot*cos(q1)^2*sin(p)*sin(q2) + 3*yb_dot*cos(q1 - q2)*cos(r)*cos(y)*sin(p) - 3*xb_dot*cos(q1 - q2)*cos(r)*sin(p)*sin(y) - 2*l2*r_dot*cos(q1)*sin(p)*sin(q1) + 2*l2*r_dot*cos(q2)*sin(p)*sin(q2) + 4*l2*r_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1) - 4*l2*r_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2) - 4*l2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) + 3*l1*r_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) - 3*l1*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - 3*l1*r_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - 4*l2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/6 - y_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*sin(q1 - q2)*cos(p)*cos(y))/2) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*sin(q1 - q2)*cos(p)*sin(y))/2)))/2 + (sin(p)*((l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*sin(p))/6 - (l2^2*m2*cos(2*q1 - 2*q2)*cos(p)*cos(r))/12))/2 - (cos(p)*cos(r)*((l2^2*m2*cos(2*q1 - 2*q2)*sin(p))/12 + (l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r))/6))/2) - (l2*m2*p_dot*sin(r)*(l2*cos(2*q1 - 2*q2)*sin(p) - 4*l2*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) - 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 - (l1*l2*m2*q1_dot*cos(p)*sin(q2)*sin(r))/2 + (l1*l2*m2*q2_dot*cos(p)*sin(q2)*sin(r))/2, yb_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - xb_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) - (l2*m2*zb_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l1*l2*m2*q1_dot*sin(q2))/2 + (l1*l2*m2*q2_dot*sin(q2))/2 - (l1*l2*m2*p_dot*cos(r)*sin(q2))/2 - (l1*l2*m2*y_dot*cos(p)*sin(q2)*sin(r))/2, xb_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) - yb_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) + (l2*m2*zb_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 + (l1*l2*m2*q1_dot*sin(q2))/2 + (l1*l2*m2*p_dot*cos(r)*sin(q2))/2 + (l1*l2*m2*y_dot*cos(p)*sin(q2)*sin(r))/2];

C=[0, 0, 0, ((l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2))*(r_dot*sin(r)*sin(y) - y_dot*cos(r)*cos(y) + p_dot*cos(p)*cos(y)*sin(r) + r_dot*cos(r)*cos(y)*sin(p) - y_dot*sin(p)*sin(r)*sin(y)))/2 - (q1_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 + (l2*m2*q2_dot*cos(q1 - q2)*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r)))/2, (l1*m1*q1_dot*cos(y)*sin(p)*sin(q1))/2 - (l1*m1*p_dot*cos(p)*cos(q1)*cos(y))/2 - l1*m2*p_dot*cos(p)*cos(q1)*cos(y) - (l2*m2*q2_dot*cos(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2 + l1*m2*q1_dot*cos(y)*sin(p)*sin(q1) + (l1*m1*y_dot*cos(q1)*sin(p)*sin(y))/2 + l1*m2*y_dot*cos(q1)*sin(p)*sin(y) - (l2*m2*p_dot*cos(q1 - q2)*cos(p)*cos(y))/2 + (l2*m2*q1_dot*sin(q1 - q2)*cos(y)*sin(p))/2 + (l2*m2*y_dot*cos(q1 - q2)*sin(p)*sin(y))/2 - (l1*m1*q1_dot*cos(p)*cos(q1)*cos(r)*cos(y))/2 - l1*m2*q1_dot*cos(p)*cos(q1)*cos(r)*cos(y) + (l1*m1*p_dot*cos(r)*cos(y)*sin(p)*sin(q1))/2 + l1*m2*p_dot*cos(r)*cos(y)*sin(p)*sin(q1) + (l1*m1*r_dot*cos(p)*cos(y)*sin(q1)*sin(r))/2 + l1*m2*r_dot*cos(p)*cos(y)*sin(q1)*sin(r) + (l1*m1*y_dot*cos(p)*cos(r)*sin(q1)*sin(y))/2 + l1*m2*y_dot*cos(p)*cos(r)*sin(q1)*sin(y) - (l2*m2*q1_dot*cos(q1 - q2)*cos(p)*cos(r)*cos(y))/2 + (l2*m2*p_dot*sin(q1 - q2)*cos(r)*cos(y)*sin(p))/2 + (l2*m2*r_dot*sin(q1 - q2)*cos(p)*cos(y)*sin(r))/2 + (l2*m2*y_dot*sin(q1 - q2)*cos(p)*cos(r)*sin(y))/2, y_dot*(m2*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - m2*cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l1*m1*cos(p)*cos(q1)*cos(y))/2) + (q1_dot*(l2*m2*sin(q1 - q2)*cos(p)*sin(y) - l1*m1*cos(q1)*cos(y)*sin(r) - 2*l1*m2*cos(q1)*cos(y)*sin(r) + l1*m1*cos(p)*sin(q1)*sin(y) + 2*l1*m2*cos(p)*sin(q1)*sin(y) - l2*m2*cos(q1 - q2)*cos(y)*sin(r) + l1*m1*cos(q1)*cos(r)*sin(p)*sin(y) + 2*l1*m2*cos(q1)*cos(r)*sin(p)*sin(y) + l2*m2*cos(q1 - q2)*cos(r)*sin(p)*sin(y)))/2 + q2_dot*((l2*m2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*m2*sin(q1 - q2)*cos(p)*sin(y))/2) - (r_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 + (p_dot*sin(y)*(l1*m1*cos(q1)*sin(p) + 2*l1*m2*cos(q1)*sin(p) + l2*m2*cos(q1)*cos(q2)*sin(p) + l1*m1*cos(p)*cos(r)*sin(q1) + 2*l1*m2*cos(p)*cos(r)*sin(q1) + l2*m2*sin(p)*sin(q1)*sin(q2) - l2*m2*cos(p)*cos(q1)*cos(r)*sin(q2) + l2*m2*cos(p)*cos(q2)*cos(r)*sin(q1)))/2, q1_dot*((m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)) - cos(p)*cos(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)) - y_dot*(((m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (m2*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*cos(q1) + (l2*cos(q1 - q2))/2))/2 - (cos(p)*sin(y)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2))/2 - (m2*cos(p)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))/2 + (l1*m1*cos(q1)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/4 - (l1*m1*cos(p)*sin(q1)*sin(y))/4) - q2_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + p_dot*((m2*cos(y)*(sin(p)*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(r)*(l1*cos(q1) + (l2*cos(q1 - q2))/2)))/2 + (cos(y)*sin(p)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2))/2 + (l1*m1*cos(y)*(sin(p)*sin(q1) - cos(p)*cos(q1)*cos(r)))/4 - (cos(p)*cos(r)*cos(y)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2))/2) - (r_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2, y_dot*((l2*m2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*m2*sin(q1 - q2)*cos(p)*sin(y))/2) - q1_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + q2_dot*((l2*m2*sin(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 - (l2*m2*cos(q1 - q2)*cos(p)*cos(y))/2) + (l2*m2*r_dot*cos(q1 - q2)*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r)))/2 - (l2*m2*p_dot*cos(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2;
0, 0, 0, ((l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2))*(p_dot*cos(p)*sin(r)*sin(y) - y_dot*cos(r)*sin(y) - r_dot*cos(y)*sin(r) + r_dot*cos(r)*sin(p)*sin(y) + y_dot*cos(y)*sin(p)*sin(r)))/2 + (q1_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 - (l2*m2*q2_dot*cos(q1 - q2)*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y)))/2, (l1*m1*q1_dot*sin(p)*sin(q1)*sin(y))/2 - (l1*m1*p_dot*cos(p)*cos(q1)*sin(y))/2 - l1*m2*p_dot*cos(p)*cos(q1)*sin(y) - (l1*m1*y_dot*cos(q1)*cos(y)*sin(p))/2 - l1*m2*y_dot*cos(q1)*cos(y)*sin(p) - (l2*m2*q2_dot*sin(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2 + l1*m2*q1_dot*sin(p)*sin(q1)*sin(y) - (l2*m2*p_dot*cos(q1 - q2)*cos(p)*sin(y))/2 - (l2*m2*y_dot*cos(q1 - q2)*cos(y)*sin(p))/2 + (l2*m2*q1_dot*sin(q1 - q2)*sin(p)*sin(y))/2 - (l1*m1*q1_dot*cos(p)*cos(q1)*cos(r)*sin(y))/2 - l1*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(y) - (l1*m1*y_dot*cos(p)*cos(r)*cos(y)*sin(q1))/2 - l1*m2*y_dot*cos(p)*cos(r)*cos(y)*sin(q1) + (l1*m1*p_dot*cos(r)*sin(p)*sin(q1)*sin(y))/2 + l1*m2*p_dot*cos(r)*sin(p)*sin(q1)*sin(y) + (l1*m1*r_dot*cos(p)*sin(q1)*sin(r)*sin(y))/2 + l1*m2*r_dot*cos(p)*sin(q1)*sin(r)*sin(y) - (l2*m2*q1_dot*cos(q1 - q2)*cos(p)*cos(r)*sin(y))/2 - (l2*m2*y_dot*sin(q1 - q2)*cos(p)*cos(r)*cos(y))/2 + (l2*m2*p_dot*sin(q1 - q2)*cos(r)*sin(p)*sin(y))/2 + (l2*m2*r_dot*sin(q1 - q2)*cos(p)*sin(r)*sin(y))/2, q2_dot*((l2*m2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*m2*sin(q1 - q2)*cos(p)*cos(y))/2) - (q1_dot*(l2*m2*cos(q1 - q2)*sin(r)*sin(y) + l1*m1*cos(p)*cos(y)*sin(q1) + 2*l1*m2*cos(p)*cos(y)*sin(q1) + l1*m1*cos(q1)*sin(r)*sin(y) + 2*l1*m2*cos(q1)*sin(r)*sin(y) + l2*m2*sin(q1 - q2)*cos(p)*cos(y) + l1*m1*cos(q1)*cos(r)*cos(y)*sin(p) + 2*l1*m2*cos(q1)*cos(r)*cos(y)*sin(p) + l2*m2*cos(q1 - q2)*cos(r)*cos(y)*sin(p)))/2 - y_dot*(m2*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + m2*cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*sin(q1)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l1*m1*cos(p)*cos(q1)*sin(y))/2) - (r_dot*(cos(r)*sin(y) - cos(y)*sin(p)*sin(r))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 - (p_dot*cos(y)*(l1*m1*cos(q1)*sin(p) + 2*l1*m2*cos(q1)*sin(p) + l2*m2*cos(q1)*cos(q2)*sin(p) + l1*m1*cos(p)*cos(r)*sin(q1) + 2*l1*m2*cos(p)*cos(r)*sin(q1) + l2*m2*sin(p)*sin(q1)*sin(q2) - l2*m2*cos(p)*cos(q1)*cos(r)*sin(q2) + l2*m2*cos(p)*cos(q2)*cos(r)*sin(q1)))/2, q2_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - q1_dot*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*((l1*m1*sin(q1))/2 + l1*m2*sin(q1) + (l2*m2*sin(q1 - q2))/2) + cos(p)*sin(y)*((l1*m1*cos(q1))/2 + l1*m2*cos(q1) + (l2*m2*cos(q1 - q2))/2)) - (y_dot*(l2*m2*cos(q1 - q2)*sin(r)*sin(y) + l1*m1*cos(p)*cos(y)*sin(q1) + 2*l1*m2*cos(p)*cos(y)*sin(q1) + l1*m1*cos(q1)*sin(r)*sin(y) + 2*l1*m2*cos(q1)*sin(r)*sin(y) + l2*m2*sin(q1 - q2)*cos(p)*cos(y) + l1*m1*cos(q1)*cos(r)*cos(y)*sin(p) + 2*l1*m2*cos(q1)*cos(r)*cos(y)*sin(p) + l2*m2*cos(q1 - q2)*cos(r)*cos(y)*sin(p)))/2 + (r_dot*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y))*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 + (p_dot*sin(y)*(l1*m1*sin(p)*sin(q1) + 2*l1*m2*sin(p)*sin(q1) + l2*m2*sin(q1 - q2)*sin(p) - l1*m1*cos(p)*cos(q1)*cos(r) - 2*l1*m2*cos(p)*cos(q1)*cos(r) - l2*m2*cos(q1 - q2)*cos(p)*cos(r)))/2, y_dot*((l2*m2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*m2*sin(q1 - q2)*cos(p)*cos(y))/2) + q1_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - q2_dot*((l2*m2*sin(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 + (l2*m2*cos(q1 - q2)*cos(p)*sin(y))/2) - (l2*m2*r_dot*cos(q1 - q2)*(cos(r)*cos(y) + sin(p)*sin(r)*sin(y)))/2 - (l2*m2*p_dot*sin(y)*(sin(q1 - q2)*sin(p) - cos(q1 - q2)*cos(p)*cos(r)))/2;
0, 0, 0, ((r_dot*cos(p)*cos(r) - p_dot*sin(p)*sin(r))*(l1*m1*sin(q1) + 2*l1*m2*sin(q1) + l2*m2*sin(q1 - q2)))/2 + (q1_dot*cos(p)*sin(r)*(l1*m1*cos(q1) + 2*l1*m2*cos(q1) + l2*m2*cos(q1 - q2)))/2 - (l2*m2*q2_dot*cos(q1 - q2)*cos(p)*sin(r))/2, (l1*m1*p_dot*cos(q1)*sin(p))/2 - (l2*m2*q2_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 + l1*m2*p_dot*cos(q1)*sin(p) + (l1*m1*q1_dot*cos(p)*sin(q1))/2 + l1*m2*q1_dot*cos(p)*sin(q1) + (l2*m2*p_dot*cos(q1 - q2)*sin(p))/2 + (l2*m2*q1_dot*sin(q1 - q2)*cos(p))/2 + (l1*m1*p_dot*cos(p)*cos(r)*sin(q1))/2 + l1*m2*p_dot*cos(p)*cos(r)*sin(q1) + (l1*m1*q1_dot*cos(q1)*cos(r)*sin(p))/2 + l1*m2*q1_dot*cos(q1)*cos(r)*sin(p) - (l1*m1*r_dot*sin(p)*sin(q1)*sin(r))/2 - l1*m2*r_dot*sin(p)*sin(q1)*sin(r) + (l2*m2*p_dot*sin(q1 - q2)*cos(p)*cos(r))/2 + (l2*m2*q1_dot*cos(q1 - q2)*cos(r)*sin(p))/2 - (l2*m2*r_dot*sin(q1 - q2)*sin(p)*sin(r))/2, 0, q1_dot*(sin(p)*(m2*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + (l1*m1*cos(q1))/2) + cos(p)*cos(r)*(m2*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + (l1*m1*sin(q1))/2)) - (l2*m2*q2_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 + (l1*m1*p_dot*cos(p)*sin(q1))/2 + l1*m2*p_dot*cos(p)*sin(q1) + (l2*m2*p_dot*sin(q1 - q2)*cos(p))/2 + (l1*m1*p_dot*cos(q1)*cos(r)*sin(p))/2 + l1*m2*p_dot*cos(q1)*cos(r)*sin(p) + (l1*m1*r_dot*cos(p)*cos(q1)*sin(r))/2 + l1*m2*r_dot*cos(p)*cos(q1)*sin(r) + (l2*m2*p_dot*cos(q1 - q2)*cos(r)*sin(p))/2 + (l2*m2*r_dot*cos(q1 - q2)*cos(p)*sin(r))/2, (l2*m2*q2_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l2*m2*q1_dot*(cos(q1 - q2)*sin(p) + sin(q1 - q2)*cos(p)*cos(r)))/2 - (l2*m2*p_dot*(sin(q1 - q2)*cos(p) + cos(q1 - q2)*cos(r)*sin(p)))/2 - (l2*m2*r_dot*cos(q1 - q2)*cos(p)*sin(r))/2;
0, 0, 0, q1_dot*((l2^2*m2*sin(2*q1 - 2*q2))/6 + (l1^2*m1*sin(2*q1))/6 + (l1^2*m2*sin(2*q1))/2 + (l1*l2*m2*sin(2*q1 - q2))/2) - (l2*m2*q2_dot*(3*l1*sin(2*q1 - q2) + 2*l2*sin(2*q1 - 2*q2) + 3*l1*sin(q2)))/12, q2_dot*((l2*m2*sin(r)*(3*l1*cos(2*q1 - q2) + 2*l2*cos(2*q1 - 2*q2)))/12 - (l2*m2*sin(r)*(2*l2 + 3*l1*cos(q2)))/12) - q1_dot*((sin(r)*(l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2)))/6 - (sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) + (Iy*p_dot*sin(2*r))/2 - (Iz*p_dot*sin(2*r))/2 - (Ix*y_dot*cos(p))/2 + (Iy*y_dot*cos(p))/2 - (Iz*y_dot*cos(p))/2 - Iy*y_dot*cos(p)*cos(r)^2 + Iz*y_dot*cos(p)*cos(r)^2 + (l1^2*m1*p_dot*sin(2*r))/6 + (l1^2*m2*p_dot*sin(2*r))/2 - (l1^2*m1*y_dot*cos(p)*cos(r)^2)/3 - l1^2*m2*y_dot*cos(p)*cos(r)^2 + (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2 - (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 - (l1^2*m1*p_dot*cos(q1)^2*cos(r)*sin(r))/3 - l1^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r) + (l2^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r))/3 + (l2^2*m2*p_dot*cos(q2)^2*cos(r)*sin(r))/3 - (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*cos(r)*sin(r))/3 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 - (l1^2*m1*y_dot*cos(q1)*cos(r)*sin(p)*sin(q1))/3 - l1^2*m2*y_dot*cos(q1)*cos(r)*sin(p)*sin(q1) + (l2^2*m2*y_dot*cos(q1)*cos(r)*sin(p)*sin(q1))/3 - (l2^2*m2*y_dot*cos(q2)*cos(r)*sin(p)*sin(q2))/3 + l1*l2*m2*p_dot*cos(q2)*cos(r)*sin(r) - (l1*l2*m2*y_dot*cos(r)*sin(p)*sin(q2))/2 - l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)^2 + l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 - (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*cos(r)*sin(p)*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*cos(r)*sin(p)*sin(q2))/3 - l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*cos(r)*sin(r) + l1*l2*m2*y_dot*cos(q1)^2*cos(r)*sin(p)*sin(q2) - (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)*sin(r))/3 - l1*l2*m2*y_dot*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1) - l1*l2*m2*p_dot*cos(q1)*cos(r)*sin(q1)*sin(q2)*sin(r) + (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2), (Iy*p_dot*cos(p))/2 - (Ix*p_dot*cos(p))/2 - (Iz*p_dot*cos(p))/2 - Iy*p_dot*cos(p)*cos(r)^2 + Iz*p_dot*cos(p)*cos(r)^2 - Iy*y_dot*cos(p)^2*cos(r)*sin(r) + Iz*y_dot*cos(p)^2*cos(r)*sin(r) - (l1^2*m1*p_dot*cos(p)*cos(r)^2)/3 - l1^2*m2*p_dot*cos(p)*cos(r)^2 - (l1^2*m1*q1_dot*cos(p)*cos(r))/3 - l1^2*m2*q1_dot*cos(p)*cos(r) + (l1^2*m1*p_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + l1^2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)^2 - (l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - (l2^2*m2*p_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 - (l1^2*m1*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q2_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q1_dot*cos(q2)*sin(p)*sin(q2))/3 + (l2^2*m2*q2_dot*cos(q2)*sin(p)*sin(q2))/3 - (l1*l2*m2*q1_dot*sin(p)*sin(q2))/2 + (l1*l2*m2*q2_dot*sin(p)*sin(q2))/2 + (l1^2*m1*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*q1_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q2)^2*cos(r))/3 - (l1^2*m1*y_dot*cos(p)^2*cos(r)*sin(r))/3 - l1^2*m2*y_dot*cos(p)^2*cos(r)*sin(r) + l1*l2*m2*q1_dot*cos(q1)^2*sin(p)*sin(q2) - (l1*l2*m2*q2_dot*cos(q1)^2*sin(p)*sin(q2))/2 + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 + (l1^2*m1*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r))/3 + l1^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r) - (l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r))/3 - (l2^2*m2*y_dot*cos(p)^2*cos(q2)^2*cos(r)*sin(r))/3 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 - (l1^2*m1*p_dot*cos(q1)*cos(r)*sin(p)*sin(q1))/3 - l1^2*m2*p_dot*cos(q1)*cos(r)*sin(p)*sin(q1) + (l2^2*m2*p_dot*cos(q1)*cos(r)*sin(p)*sin(q1))/3 - (l2^2*m2*p_dot*cos(q2)*cos(r)*sin(p)*sin(q2))/3 - l1*l2*m2*q1_dot*cos(p)*cos(q2)*cos(r) + (l1*l2*m2*q2_dot*cos(p)*cos(q2)*cos(r))/2 - (l1*l2*m2*p_dot*cos(r)*sin(p)*sin(q2))/2 - (2*l2^2*m2*q1_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*q1_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + (2*l2^2*m2*q2_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 - (2*l2^2*m2*q2_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 - l1*l2*m2*p_dot*cos(p)*cos(q2)*cos(r)^2 + l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 - (l1^2*m1*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r))/3 - l1^2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r) + (l2^2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r))/3 - (l2^2*m2*y_dot*cos(p)*cos(q2)*sin(p)*sin(q2)*sin(r))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)^2*cos(r)*sin(r))/3 - l1*l2*m2*q1_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + (l1*l2*m2*q2_dot*cos(q1)*cos(q2)*sin(p)*sin(q1))/2 - (l1*l2*m2*y_dot*cos(p)*sin(p)*sin(q2)*sin(r))/2 - (2*l2^2*m2*p_dot*cos(q1)*cos(q2)^2*cos(r)*sin(p)*sin(q1))/3 + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)*cos(r)*sin(p)*sin(q2))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r))/2 - l1*l2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)*sin(r) + l1*l2*m2*p_dot*cos(q1)^2*cos(r)*sin(p)*sin(q2) + l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)*sin(r) + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 - l1*l2*m2*p_dot*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1) + l1*l2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2))/2 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)^2*sin(p)*sin(q1)*sin(r))/3 + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*sin(p)*sin(q2)*sin(r))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2) + l1*l2*m2*y_dot*cos(p)*cos(q1)^2*sin(p)*sin(q2)*sin(r) - l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(r) + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)*sin(q1)*sin(q2)*sin(r), (l1^2*m1*r_dot*sin(2*q1))/6 + (l1^2*m2*r_dot*sin(2*q1))/2 + (l1^2*m1*p_dot*sin(r))/6 + (l1^2*m2*p_dot*sin(r))/2 + (l2^2*m2*p_dot*sin(r))/6 - (l1^2*m1*p_dot*cos(2*q1)*sin(r))/6 - (l1^2*m2*p_dot*cos(2*q1)*sin(r))/2 - (l2^2*m2*r_dot*cos(2*q1)*sin(2*q2))/6 + (l2^2*m2*r_dot*cos(2*q2)*sin(2*q1))/6 - (l1^2*m1*y_dot*cos(p)*cos(r))/3 - l1^2*m2*y_dot*cos(p)*cos(r) - (l1*l2*m2*r_dot*cos(2*q1)*sin(q2))/2 + (l1*l2*m2*r_dot*sin(2*q1)*cos(q2))/2 - (l2^2*m2*p_dot*cos(2*q1)*cos(2*q2)*sin(r))/6 - (l2^2*m2*p_dot*sin(2*q1)*sin(2*q2)*sin(r))/6 - (l1^2*m1*y_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*y_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*y_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*y_dot*cos(q2)*sin(p)*sin(q2))/3 + (l1*l2*m2*p_dot*cos(q2)*sin(r))/2 - (l1*l2*m2*y_dot*sin(p)*sin(q2))/2 + (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r))/3 - (l1*l2*m2*p_dot*cos(2*q1)*cos(q2)*sin(r))/2 + l1*l2*m2*y_dot*cos(q1)^2*sin(p)*sin(q2) + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (l1*l2*m2*p_dot*sin(2*q1)*sin(q2)*sin(r))/2 - l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r) - (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 - l1*l2*m2*y_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) + (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2), (l2*m2*(6*l1*y_dot*sin(p)*sin(q2) - 3*l1*r_dot*sin(q2) - 2*l2*p_dot*sin(r) + 3*l1*r_dot*cos(2*q1)*sin(q2) - 3*l1*r_dot*sin(2*q1)*cos(q2) + 2*l2*r_dot*cos(2*q1)*sin(2*q2) - 2*l2*r_dot*cos(2*q2)*sin(2*q1) - 3*l1*p_dot*cos(q2)*sin(r) + 4*l2*y_dot*cos(p)*cos(q1)^2*cos(r) + 4*l2*y_dot*cos(p)*cos(q2)^2*cos(r) + 3*l1*p_dot*cos(2*q1)*cos(q2)*sin(r) - 6*l1*y_dot*cos(q1)^2*sin(p)*sin(q2) + 3*l1*p_dot*sin(2*q1)*sin(q2)*sin(r) + 2*l2*p_dot*cos(2*q1)*cos(2*q2)*sin(r) + 2*l2*p_dot*sin(2*q1)*sin(2*q2)*sin(r) + 6*l1*y_dot*cos(p)*cos(q2)*cos(r) - 4*l2*y_dot*cos(q1)*sin(p)*sin(q1) + 4*l2*y_dot*cos(q2)*sin(p)*sin(q2) + 8*l2*y_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1) - 8*l2*y_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2) - 8*l2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) + 6*l1*y_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) - 6*l1*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - 6*l1*y_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - 8*l2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/12;
0, 0, 0, q2_dot*((l2*m2*sin(r)*(3*l1*cos(2*q1 - q2) + 2*l2*cos(2*q1 - 2*q2)))/12 + (l2*m2*sin(r)*(2*l2 + 3*l1*cos(q2)))/12) - q1_dot*((sin(r)*(l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2)))/6 + (sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) - (Iy*p_dot*sin(2*r))/2 + (Iz*p_dot*sin(2*r))/2 + (Ix*y_dot*cos(p))/2 - (Iy*y_dot*cos(p))/2 + (Iz*y_dot*cos(p))/2 + Iy*y_dot*cos(p)*cos(r)^2 - Iz*y_dot*cos(p)*cos(r)^2 - (l1^2*m1*p_dot*sin(2*r))/6 - (l1^2*m2*p_dot*sin(2*r))/2 + (l1^2*m1*y_dot*cos(p)*cos(r)^2)/3 + l1^2*m2*y_dot*cos(p)*cos(r)^2 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)^2)/3 - (l1^2*m1*r_dot*cos(q1)*cos(r)*sin(q1))/3 - l1^2*m2*r_dot*cos(q1)*cos(r)*sin(q1) + (l2^2*m2*r_dot*cos(q1)*cos(r)*sin(q1))/3 - (l2^2*m2*r_dot*cos(q2)*cos(r)*sin(q2))/3 - (l1*l2*m2*r_dot*cos(r)*sin(q2))/2 + (l1^2*m1*p_dot*cos(q1)^2*cos(r)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*cos(r)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*cos(r)*sin(r))/3 + l1*l2*m2*r_dot*cos(q1)^2*cos(r)*sin(q2) + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*cos(r)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 + (l1^2*m1*y_dot*cos(q1)*cos(r)*sin(p)*sin(q1))/3 + l1^2*m2*y_dot*cos(q1)*cos(r)*sin(p)*sin(q1) - (l2^2*m2*y_dot*cos(q1)*cos(r)*sin(p)*sin(q1))/3 + (l2^2*m2*y_dot*cos(q2)*cos(r)*sin(p)*sin(q2))/3 - l1*l2*m2*p_dot*cos(q2)*cos(r)*sin(r) + (l1*l2*m2*y_dot*cos(r)*sin(p)*sin(q2))/2 - (2*l2^2*m2*r_dot*cos(q1)*cos(q2)^2*cos(r)*sin(q1))/3 + (2*l2^2*m2*r_dot*cos(q1)^2*cos(q2)*cos(r)*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)^2 - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 - l1*l2*m2*r_dot*cos(q1)*cos(q2)*cos(r)*sin(q1) + (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*cos(r)*sin(p)*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*cos(r)*sin(p)*sin(q2))/3 + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*cos(r)*sin(r) - l1*l2*m2*y_dot*cos(q1)^2*cos(r)*sin(p)*sin(q2) + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*y_dot*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1) + l1*l2*m2*p_dot*cos(q1)*cos(r)*sin(q1)*sin(q2)*sin(r) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2), (q1_dot*(cos(2*r) - 1)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/12 - (r_dot*sin(2*r)*(6*Iy - 6*Iz + l1^2*m1 + 3*l1^2*m2 + l2^2*m2 - l1^2*m1*cos(2*q1) - 3*l1^2*m2*cos(2*q1) - l2^2*m2*cos(2*q1 - 2*q2) - 3*l1*l2*m2*cos(2*q1 - q2) + 3*l1*l2*m2*cos(q2)))/12 - (l2*m2*q2_dot*(9*l1*sin(q2) + 2*l2*cos(2*q1)*sin(2*q2) - 2*l2*cos(2*q2)*sin(2*q1) + 3*l1*cos(2*q1)*sin(q2) - 3*l1*sin(2*q1)*cos(q2) + 3*l1*cos(2*r)*sin(q2) - 3*l1*cos(2*q1)*cos(2*r)*sin(q2) + 3*l1*cos(2*r)*sin(2*q1)*cos(q2) - 2*l2*cos(2*q1)*cos(2*r)*sin(2*q2) + 2*l2*cos(2*q2)*cos(2*r)*sin(2*q1)))/24, q1_dot*((sin(r)*(l1^2*m1*cos(2*q1)*sin(p) + 3*l1^2*m1*cos(q1)^2*sin(p) + 12*l1^2*m2*cos(q1)^2*sin(p) - 3*l1^2*m1*sin(p)*sin(q1)^2 - 12*l1^2*m2*sin(p)*sin(q1)^2 + l2^2*m2*cos(2*q1 - 2*q2)*sin(p) + 3*l2^2*m2*cos(q1 - q2)^2*sin(p) - 3*l2^2*m2*sin(q1 - q2)^2*sin(p) + 8*l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r) + 12*l1*l2*m2*cos(q1 - q2)*cos(q1)*sin(p) - 12*l1*l2*m2*sin(q1 - q2)*sin(p)*sin(q1) + 8*l1^2*m1*cos(p)*cos(q1)*cos(r)*sin(q1) + 24*l1^2*m2*cos(p)*cos(q1)*cos(r)*sin(q1) + 12*l1*l2*m2*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 12*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1)*cos(r)))/24 + (sin(p)*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) - y_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(cos(y)*sin(p)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*cos(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2)) - 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(sin(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))))/2 + (cos(p)*(sin(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) - cos(p)*cos(r)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 + (sin(p)*(cos(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) + cos(r)*sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 - (l1^2*m1*(2*cos(p)*cos(q1)^2*sin(p) - 2*cos(p)*cos(r)^2*sin(p) - 2*cos(q1)*cos(r)*sin(q1) + 4*cos(p)^2*cos(q1)*cos(r)*sin(q1) + 2*cos(p)*cos(q1)^2*cos(r)^2*sin(p)))/8 - (cos(p)*cos(r)*(cos(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) + cos(r)*sin(p)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 + (cos(r)*sin(p)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) - cos(p)*cos(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 - cos(p)*sin(p)*sin(r)^2*(Iy + (l1^2*m1)/12 + (l2^2*m2)/12)) + r_dot*((Ix*cos(p))/2 - (Iy*cos(p))/2 + (Iz*cos(p))/2 + Iy*cos(p)*cos(r)^2 - Iz*cos(p)*cos(r)^2 + (l1^2*m1*cos(p)*cos(r)^2)/3 + l1^2*m2*cos(p)*cos(r)^2 - (l1^2*m1*cos(p)*cos(q1)^2*cos(r)^2)/3 - l1^2*m2*cos(p)*cos(q1)^2*cos(r)^2 + (l2^2*m2*cos(p)*cos(q1)^2*cos(r)^2)/3 + (l2^2*m2*cos(p)*cos(q2)^2*cos(r)^2)/3 - (2*l2^2*m2*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)^2)/3 + (l1^2*m1*cos(q1)*cos(r)*sin(p)*sin(q1))/3 + l1^2*m2*cos(q1)*cos(r)*sin(p)*sin(q1) - (l2^2*m2*cos(q1)*cos(r)*sin(p)*sin(q1))/3 + (l2^2*m2*cos(q2)*cos(r)*sin(p)*sin(q2))/3 + (l1*l2*m2*cos(r)*sin(p)*sin(q2))/2 + l1*l2*m2*cos(p)*cos(q2)*cos(r)^2 + (2*l2^2*m2*cos(q1)*cos(q2)^2*cos(r)*sin(p)*sin(q1))/3 - (2*l2^2*m2*cos(q1)^2*cos(q2)*cos(r)*sin(p)*sin(q2))/3 - l1*l2*m2*cos(q1)^2*cos(r)*sin(p)*sin(q2) - l1*l2*m2*cos(p)*cos(q1)^2*cos(q2)*cos(r)^2 - (2*l2^2*m2*cos(p)*cos(q1)*cos(q2)*cos(r)^2*sin(q1)*sin(q2))/3 - l1*l2*m2*cos(p)*cos(q1)*cos(r)^2*sin(q1)*sin(q2) + l1*l2*m2*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1)) - (l2*m2*q2_dot*sin(r)*(4*l2*sin(p) + l2*cos(2*q1 - 2*q2)*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) + 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24, y_dot*((sin(r)*(l1^2*m1*cos(2*q1)*sin(p) + 3*l1^2*m1*cos(q1)^2*sin(p) + 12*l1^2*m2*cos(q1)^2*sin(p) - 3*l1^2*m1*sin(p)*sin(q1)^2 - 12*l1^2*m2*sin(p)*sin(q1)^2 + l2^2*m2*cos(2*q1 - 2*q2)*sin(p) + 3*l2^2*m2*cos(q1 - q2)^2*sin(p) - 3*l2^2*m2*sin(q1 - q2)^2*sin(p) + 8*l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r) + 12*l1*l2*m2*cos(q1 - q2)*cos(q1)*sin(p) - 12*l1*l2*m2*sin(q1 - q2)*sin(p)*sin(q1) + 8*l1^2*m1*cos(p)*cos(q1)*cos(r)*sin(q1) + 24*l1^2*m2*cos(p)*cos(q1)*cos(r)*sin(q1) + 12*l1*l2*m2*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 12*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1)*cos(r)))/24 + (sin(p)*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) - r_dot*((sin(r)*(l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2)))/6 + (sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) + (p_dot*(cos(2*r) - 1)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/12 - (l1*l2*m2*q2_dot*cos(r)*sin(q2))/2, (l2*m2*r_dot*sin(r)*(2*l2 + 3*l1*cos(2*q1 - q2) + 2*l2*cos(2*q1 - 2*q2) + 3*l1*cos(q2)))/12 - (l2*m2*y_dot*sin(r)*(4*l2*sin(p) + l2*cos(2*q1 - 2*q2)*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) + 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 - (l2*m2*p_dot*(9*l1*sin(q2) + 2*l2*cos(2*q1)*sin(2*q2) - 2*l2*cos(2*q2)*sin(2*q1) + 3*l1*cos(2*q1)*sin(q2) - 3*l1*sin(2*q1)*cos(q2) + 3*l1*cos(2*r)*sin(q2) - 3*l1*cos(2*q1)*cos(2*r)*sin(q2) + 3*l1*cos(2*r)*sin(2*q1)*cos(q2) - 2*l2*cos(2*q1)*cos(2*r)*sin(2*q2) + 2*l2*cos(2*q2)*cos(2*r)*sin(2*q1)))/24 - (l1*l2*m2*q1_dot*cos(r)*sin(q2))/2 + (l1*l2*m2*q2_dot*cos(r)*sin(q2))/2;
0, 0, 0, (Iy*p_dot*cos(2*r)*cos(p))/2 - (Ix*p_dot*cos(p))/2 - (Iz*p_dot*cos(2*r)*cos(p))/2 - (l1^2*m1*p_dot*cos(p))/12 - (l1^2*m2*p_dot*cos(p))/4 - (l2^2*m2*p_dot*cos(p))/12 + (l1^2*m1*p_dot*cos(2*q1)*cos(p))/12 + (l1^2*m2*p_dot*cos(2*q1)*cos(p))/4 + Iy*y_dot*cos(p)^2*cos(r)*sin(r) - Iz*y_dot*cos(p)^2*cos(r)*sin(r) + (l1^2*m1*p_dot*cos(2*r)*cos(p))/12 + (l1^2*m2*p_dot*cos(2*r)*cos(p))/4 + (l2^2*m2*p_dot*cos(2*r)*cos(p))/12 + (l2^2*m2*q1_dot*cos(p)*cos(r))/3 - (l2^2*m2*q2_dot*cos(p)*cos(r))/3 - (l1^2*m1*r_dot*sin(2*q1)*cos(p)*sin(r))/6 - (l1^2*m2*r_dot*sin(2*q1)*cos(p)*sin(r))/2 + l1^2*m2*y_dot*cos(r)*sin(q1)^2*sin(r) + (l2^2*m2*y_dot*sin(q1 - q2)^2*cos(r)*sin(r))/4 + (l2^2*m2*p_dot*cos(2*q1)*cos(2*q2)*cos(p))/12 - (l1^2*m1*p_dot*cos(2*q1)*cos(2*r)*cos(p))/12 - (l1^2*m2*p_dot*cos(2*q1)*cos(2*r)*cos(p))/4 + (l2^2*m2*p_dot*sin(2*q1)*sin(2*q2)*cos(p))/12 - (l1^2*m1*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*q1_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q2_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*q1_dot*cos(q2)*sin(p)*sin(q2))/3 + (l2^2*m2*q2_dot*cos(q2)*sin(p)*sin(q2))/3 - (l1*l2*m2*p_dot*cos(p)*cos(q2))/4 - (l1*l2*m2*q1_dot*sin(p)*sin(q2))/2 + (l1*l2*m2*q2_dot*sin(p)*sin(q2))/2 + (l1^2*m1*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*q1_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(r))/3 + (l2^2*m2*q2_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l1^2*m1*y_dot*cos(p)^2*cos(r)*sin(r))/3 + (l2^2*m2*y_dot*cos(p)^2*cos(r)*sin(r))/12 + (l1*l2*m2*p_dot*sin(2*q1)*cos(p)*sin(q2))/4 + l1*l2*m2*q1_dot*cos(q1)^2*sin(p)*sin(q2) - (l1*l2*m2*q2_dot*cos(q1)^2*sin(p)*sin(q2))/2 + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 + (l2^2*m2*y_dot*sin(2*q1 - 2*q2)*cos(p)*sin(p)*sin(r))/24 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)^2*cos(r)*sin(r))/3 + (l2^2*m2*r_dot*cos(2*q1)*sin(2*q2)*cos(p)*sin(r))/6 - (l2^2*m2*r_dot*cos(2*q2)*sin(2*q1)*cos(p)*sin(r))/6 - l1^2*m2*y_dot*cos(r)*sin(p)^2*sin(q1)^2*sin(r) - (l2^2*m2*y_dot*cos(q1 - q2)^2*cos(p)^2*cos(r)*sin(r))/12 - (l2^2*m2*p_dot*cos(2*q1)*cos(2*q2)*cos(2*r)*cos(p))/12 - (l2^2*m2*y_dot*sin(q1 - q2)^2*cos(r)*sin(p)^2*sin(r))/4 - (l2^2*m2*p_dot*cos(2*r)*sin(2*q1)*sin(2*q2)*cos(p))/12 - (2*l2^2*m2*q1_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*q1_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + (2*l2^2*m2*q2_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 - (2*l2^2*m2*q2_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + (l1*l2*m2*p_dot*cos(2*q1)*cos(p)*cos(q2))/4 + (l1^2*m1*y_dot*sin(2*q1)*cos(p)*sin(p)*sin(r))/24 + (l1*l2*m2*p_dot*cos(2*r)*cos(p)*cos(q2))/4 - (l1*l2*m2*p_dot*cos(2*q1)*cos(2*r)*cos(p)*cos(q2))/4 - (l1*l2*m2*p_dot*cos(2*r)*sin(2*q1)*cos(p)*sin(q2))/4 + (l1^2*m1*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r))/4 + l1^2*m2*y_dot*cos(p)*cos(q1)*sin(p)*sin(q1)*sin(r) - l1*l2*m2*q1_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + (l1*l2*m2*q2_dot*cos(q1)*cos(q2)*sin(p)*sin(q1))/2 + (l2^2*m2*y_dot*cos(q1 - q2)*sin(q1 - q2)*cos(p)*sin(p)*sin(r))/4 + l1*l2*m2*q1_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r))/2 + l1*l2*m2*y_dot*sin(q1 - q2)*cos(r)*sin(q1)*sin(r) + (l1*l2*m2*r_dot*cos(2*q1)*cos(p)*sin(q2)*sin(r))/2 - (l1*l2*m2*r_dot*sin(2*q1)*cos(p)*cos(q2)*sin(r))/2 - l1*l2*m2*y_dot*sin(q1 - q2)*cos(r)*sin(p)^2*sin(q1)*sin(r) + (2*l2^2*m2*q1_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 - (2*l2^2*m2*q2_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 + l1*l2*m2*q1_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - (l1*l2*m2*q2_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2))/2 + (l1*l2*m2*y_dot*cos(q1 - q2)*cos(p)*sin(p)*sin(q1)*sin(r))/2 + (l1*l2*m2*y_dot*sin(q1 - q2)*cos(p)*cos(q1)*sin(p)*sin(r))/2, p_dot*((sin(r)*(l1^2*m1*cos(p)*cos(q1)*sin(q1) + 4*l1^2*m2*cos(p)*cos(q1)*sin(q1) + l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p) - l1^2*m1*cos(r)*sin(p)*sin(q1)^2 - 4*l1^2*m2*cos(r)*sin(p)*sin(q1)^2 - l2^2*m2*sin(q1 - q2)^2*cos(r)*sin(p) + 2*l1*l2*m2*cos(q1 - q2)*cos(p)*sin(q1) + 2*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1) - 4*l1*l2*m2*sin(q1 - q2)*cos(r)*sin(p)*sin(q1)))/4 + sin(r)*(cos(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) + cos(r)*sin(p)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)) - cos(r)*sin(p)*sin(r)*(Iy + (l1^2*m1)/12 + (l2^2*m2)/12)) + y_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(cos(y)*sin(p)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*cos(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2)) - 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(sin(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))))/2 + (cos(p)*(sin(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) - cos(p)*cos(r)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 + (sin(p)*(cos(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) + cos(r)*sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 - (l1^2*m1*(2*cos(p)*cos(q1)^2*sin(p) - 2*cos(p)*cos(r)^2*sin(p) - 2*cos(q1)*cos(r)*sin(q1) + 4*cos(p)^2*cos(q1)*cos(r)*sin(q1) + 2*cos(p)*cos(q1)^2*cos(r)^2*sin(p)))/8 - (cos(p)*cos(r)*(cos(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) + cos(r)*sin(p)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 + (cos(r)*sin(p)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) - cos(p)*cos(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 - cos(p)*sin(p)*sin(r)^2*(Iy + (l1^2*m1)/12 + (l2^2*m2)/12)) + q1_dot*((sin(r)*(l1^2*m1*cos(2*q1)*sin(p) + 3*l1^2*m1*cos(q1)^2*sin(p) + 12*l1^2*m2*cos(q1)^2*sin(p) - 3*l1^2*m1*sin(p)*sin(q1)^2 - 12*l1^2*m2*sin(p)*sin(q1)^2 + l2^2*m2*cos(2*q1 - 2*q2)*sin(p) + 3*l2^2*m2*cos(q1 - q2)^2*sin(p) - 3*l2^2*m2*sin(q1 - q2)^2*sin(p) + 8*l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r) + 12*l1*l2*m2*cos(q1 - q2)*cos(q1)*sin(p) - 12*l1*l2*m2*sin(q1 - q2)*sin(p)*sin(q1) + 8*l1^2*m1*cos(p)*cos(q1)*cos(r)*sin(q1) + 24*l1^2*m2*cos(p)*cos(q1)*cos(r)*sin(q1) + 12*l1*l2*m2*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 12*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1)*cos(r)))/24 - (sin(p)*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) - (r_dot*cos(p)*(3*Ix + (l1^2*m1)/2 + (3*l1^2*m2)/2 + (l2^2*m2)/2 - 3*Iy*cos(2*r) + 3*Iz*cos(2*r) - (l1^2*m1*cos(2*q1))/2 - (3*l1^2*m2*cos(2*q1))/2 - (l1^2*m1*cos(2*r))/2 - (3*l1^2*m2*cos(2*r))/2 - (l2^2*m2*cos(2*r))/2 + (l1^2*m1*cos(2*q1)*cos(2*r))/2 + (3*l1^2*m2*cos(2*q1)*cos(2*r))/2 - (l2^2*m2*sin(2*q1)*sin(2*q2))/2 + (3*l1*l2*m2*cos(q2))/2 - (l2^2*m2*cos(2*q1)*cos(2*q2))/2 + (l2^2*m2*cos(2*q1)*cos(2*q2)*cos(2*r))/2 + (l2^2*m2*cos(2*r)*sin(2*q1)*sin(2*q2))/2 - (3*l1*l2*m2*cos(2*q1)*cos(q2))/2 - (3*l1*l2*m2*cos(2*r)*cos(q2))/2 - (3*l1*l2*m2*sin(2*q1)*sin(q2))/2 + (3*l1*l2*m2*cos(2*r)*sin(2*q1)*sin(q2))/2 + (3*l1*l2*m2*cos(2*q1)*cos(2*r)*cos(q2))/2))/6 - (l2*m2*q2_dot*sin(r)*(l2*cos(2*q1 - 2*q2)*sin(p) - 4*l2*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) - 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24, p_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(cos(y)*sin(p)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*cos(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2)) - 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*(sin(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(r)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))))/2 + (cos(p)*(sin(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) - cos(p)*cos(r)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 + (sin(p)*(cos(p)*(Ix + (l2^2*m2*sin(q1 - q2)^2)/12 + (l1^2*m1*sin(q1)^2)/12) + cos(r)*sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24)))/2 - (l1^2*m1*(2*cos(p)*cos(q1)^2*sin(p) - 2*cos(p)*cos(r)^2*sin(p) - 2*cos(q1)*cos(r)*sin(q1) + 4*cos(p)^2*cos(q1)*cos(r)*sin(q1) + 2*cos(p)*cos(q1)^2*cos(r)^2*sin(p)))/8 - (cos(p)*cos(r)*(cos(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) + cos(r)*sin(p)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 + (cos(r)*sin(p)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) - cos(p)*cos(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 - cos(p)*sin(p)*sin(r)^2*(Iy + (l1^2*m1)/12 + (l2^2*m2)/12)) - q2_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*sin(q1 - q2)*cos(p)*cos(y))/2) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*sin(q1 - q2)*cos(p)*sin(y))/2)))/2 + (sin(p)*((l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*sin(p))/6 - (l2^2*m2*cos(2*q1 - 2*q2)*cos(p)*cos(r))/12))/2 - (cos(p)*cos(r)*((l2^2*m2*cos(2*q1 - 2*q2)*sin(p))/12 + (l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r))/6))/2) + r_dot*((cos(p)*sin(r)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24) - cos(p)*cos(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12)))/2 + cos(p)^2*cos(r)*sin(r)*(Iy + (l1^2*m1)/12 + (l2^2*m2)/12) + (cos(p)*sin(p)*sin(r)*((l2^2*m2*sin(2*q1 - 2*q2))/24 + (l1^2*m1*sin(2*q1))/24))/2 - (cos(p)^2*cos(r)*sin(r)*(Iz + (l1^2*m1*cos(q1)^2)/12 + (l2^2*m2*cos(q1 - q2)^2)/12))/2 + (m2*sin(r)*(2*l1*sin(q1) + l2*sin(q1 - q2))*(2*l1*cos(r)*sin(q1) + l2*sin(q1 - q2)*cos(r) + 2*l1*cos(p)*cos(q1)*sin(p) + l2*cos(q1 - q2)*cos(p)*sin(p) - 2*l1*cos(r)*sin(p)^2*sin(q1) - l2*sin(q1 - q2)*cos(r)*sin(p)^2))/4 + (l1^2*m1*cos(p)*sin(r)*(cos(p)*cos(r) - cos(p)*cos(q1)^2*cos(r) + cos(q1)*sin(p)*sin(q1)))/4) + q1_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*cos(q1) + (l2*cos(q1 - q2))/2) + cos(p)*cos(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2)) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*cos(q1) + (l2*cos(q1 - q2))/2) - cos(p)*sin(y)*(l1*sin(q1) + (l2*sin(q1 - q2))/2))))/2 + (sin(p)*(sin(p)*((l2^2*m2*sin(2*q1 - 2*q2))/12 + (l1^2*m1*sin(2*q1))/12) - cos(p)*cos(r)*((l1^2*m1*cos(2*q1))/12 + (l2^2*m2*cos(2*q1 - 2*q2))/12)))/2 - (cos(p)*cos(r)*(sin(p)*((l1^2*m1*cos(2*q1))/12 + (l2^2*m2*cos(2*q1 - 2*q2))/12) + cos(p)*cos(r)*((l2^2*m2*sin(2*q1 - 2*q2))/12 + (l1^2*m1*sin(2*q1))/12)))/2 - (l1^2*m1*(2*cos(p)^2*cos(q1)*sin(q1) - 2*cos(q1)*sin(q1) - 2*cos(p)*cos(r)*sin(p) + 4*cos(p)*cos(q1)^2*cos(r)*sin(p) + 2*cos(p)^2*cos(q1)*cos(r)^2*sin(q1)))/8), (l1^2*m1*y_dot*sin(2*q1))/6 + (l1^2*m2*y_dot*sin(2*q1))/2 - (l2^2*m2*y_dot*sin(2*q1))/6 + (l2^2*m2*y_dot*sin(2*q2))/6 + (l1*l2*m2*y_dot*sin(q2))/2 + (l2^2*m2*r_dot*cos(p)*cos(r))/3 - (l1^2*m1*p_dot*sin(p)*sin(r))/3 - l1^2*m2*p_dot*sin(p)*sin(r) + (l1^2*m1*p_dot*cos(q1)^2*sin(p)*sin(r))/3 + l1^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r) - (l2^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r))/3 - (l2^2*m2*p_dot*cos(q2)^2*sin(p)*sin(r))/3 - (l1*l2*m2*y_dot*cos(p)^2*sin(q2))/2 - l1*l2*m2*y_dot*cos(q1)^2*sin(q2) + (l1^2*m1*y_dot*cos(p)*cos(r)*sin(p))/3 + l1^2*m2*y_dot*cos(p)*cos(r)*sin(p) - (l2^2*m2*y_dot*cos(p)*cos(r)*sin(p))/3 - (l1^2*m1*r_dot*cos(q1)*sin(p)*sin(q1))/3 - l1^2*m2*r_dot*cos(q1)*sin(p)*sin(q1) + (l2^2*m2*r_dot*cos(q1)*sin(p)*sin(q1))/3 - (l2^2*m2*r_dot*cos(q2)*sin(p)*sin(q2))/3 - (l1*l2*m2*r_dot*sin(p)*sin(q2))/2 + (l1^2*m1*r_dot*cos(p)*cos(q1)^2*cos(r))/3 + l1^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r) - (l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r))/3 - (l2^2*m2*r_dot*cos(p)*cos(q2)^2*cos(r))/3 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 - (l2^2*m2*y_dot*cos(p)^2*cos(q2)*sin(q2))/3 + (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*sin(q2))/3 + l1*l2*m2*r_dot*cos(q1)^2*sin(p)*sin(q2) + (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*sin(q2))/3 - (l1^2*m1*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 - l1^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1) + (l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 - (l2^2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)^2*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*sin(p)*sin(r))/3 + l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*sin(q2) - (l1*l2*m2*y_dot*cos(p)^2*cos(r)^2*sin(q2))/2 + l1*l2*m2*y_dot*cos(q1)*cos(q2)*sin(q1) - l1*l2*m2*p_dot*cos(q2)*sin(p)*sin(r) - (l1*l2*m2*q2_dot*cos(p)*sin(q2)*sin(r))/2 - (2*l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 - 2*l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p) + (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 + (2*l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)*sin(p))/3 - (2*l2^2*m2*r_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 + (2*l2^2*m2*r_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 - (4*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)*sin(p))/3 + (l1^2*m1*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + l1^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r) - (l2^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 + (l2^2*m2*p_dot*cos(p)*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*cos(r)^2*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)^2*sin(q2))/3 + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)*sin(p) + (l1*l2*m2*p_dot*cos(p)*cos(r)*sin(q2)*sin(r))/2 - l1*l2*m2*r_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) + l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)^2*sin(q2) + l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*sin(q1) + l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*sin(p)*sin(r) - l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)^2*sin(q1) + (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 + (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 + l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) + l1*l2*m2*p_dot*cos(q1)*sin(p)*sin(q1)*sin(q2)*sin(r) + (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)^2*cos(r)*sin(q1)*sin(r))/3 - (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(q2)*sin(r))/3 - 2*l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(p) - l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)*sin(q2)*sin(r) - (4*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1)*sin(q2))/3 + l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(r) - 2*l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)*sin(p)*sin(q1)*sin(q2), (l1*l2*m2*q2_dot*cos(p)*sin(q2)*sin(r))/2 - (l2*m2*r_dot*(2*l2*cos(p)*cos(r) - 3*l1*sin(p)*sin(q2) + 2*l2*cos(q1)*sin(p)*sin(q1) - 2*l2*cos(q2)*sin(p)*sin(q2) - 2*l2*cos(p)*cos(q1)^2*cos(r) - 2*l2*cos(p)*cos(q2)^2*cos(r) + 3*l1*cos(q1)^2*sin(p)*sin(q2) - 3*l1*cos(q1)*cos(q2)*sin(p)*sin(q1) + 3*l1*cos(p)*cos(q1)^2*cos(q2)*cos(r) - 4*l2*cos(q1)*cos(q2)^2*sin(p)*sin(q1) + 4*l2*cos(q1)^2*cos(q2)*sin(p)*sin(q2) + 4*l2*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) + 3*l1*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) + 4*l2*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/6 - (l2*m2*p_dot*sin(r)*(l2*cos(2*q1 - 2*q2)*sin(p) - 4*l2*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) - 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 - (l1*l2*m2*q1_dot*cos(p)*sin(q2)*sin(r))/2 - y_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*sin(q1 - q2)*cos(p)*cos(y))/2) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*sin(q1 - q2)*cos(p)*sin(y))/2)))/2 + (sin(p)*((l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*sin(p))/6 - (l2^2*m2*cos(2*q1 - 2*q2)*cos(p)*cos(r))/12))/2 - (cos(p)*cos(r)*((l2^2*m2*cos(2*q1 - 2*q2)*sin(p))/12 + (l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r))/6))/2);
0, 0, 0, (l1^2*m1*p_dot*cos(2*q1)*sin(r))/6 - (l1^2*m2*r_dot*sin(2*q1))/2 - (l1^2*m1*p_dot*sin(r))/6 - (l1^2*m2*p_dot*sin(r))/2 - (l2^2*m2*p_dot*sin(r))/6 - (l1^2*m1*r_dot*sin(2*q1))/6 + (l1^2*m2*p_dot*cos(2*q1)*sin(r))/2 + (l2^2*m2*r_dot*cos(2*q1)*sin(2*q2))/6 - (l2^2*m2*r_dot*cos(2*q2)*sin(2*q1))/6 + (l1^2*m1*y_dot*cos(p)*cos(r))/3 + l1^2*m2*y_dot*cos(p)*cos(r) + (l1*l2*m2*r_dot*cos(2*q1)*sin(q2))/2 - (l1*l2*m2*r_dot*sin(2*q1)*cos(q2))/2 + (l2^2*m2*p_dot*cos(2*q1)*cos(2*q2)*sin(r))/6 + (l2^2*m2*p_dot*sin(2*q1)*sin(2*q2)*sin(r))/6 + (l1^2*m1*y_dot*cos(q1)*sin(p)*sin(q1))/3 + l1^2*m2*y_dot*cos(q1)*sin(p)*sin(q1) - (l2^2*m2*y_dot*cos(q1)*sin(p)*sin(q1))/3 + (l2^2*m2*y_dot*cos(q2)*sin(p)*sin(q2))/3 - (l1*l2*m2*p_dot*cos(q2)*sin(r))/2 + (l1*l2*m2*y_dot*sin(p)*sin(q2))/2 - (l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r))/3 - l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r) + (l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r))/3 + (l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l1*l2*m2*p_dot*cos(2*q1)*cos(q2)*sin(r))/2 - l1*l2*m2*y_dot*cos(q1)^2*sin(p)*sin(q2) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 + (l1*l2*m2*p_dot*sin(2*q1)*sin(q2)*sin(r))/2 + l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r) + (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + l1*l2*m2*y_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) - l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2), r_dot*((sin(r)*(l1^2*m1*cos(2*q1) + 3*l1^2*m2*cos(2*q1) + l2^2*m2*cos(2*q1 - 2*q2) + 3*l1*l2*m2*cos(2*q1 - q2)))/6 - (sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) - y_dot*((sin(r)*(l1^2*m1*cos(2*q1)*sin(p) + 3*l1^2*m1*cos(q1)^2*sin(p) + 12*l1^2*m2*cos(q1)^2*sin(p) - 3*l1^2*m1*sin(p)*sin(q1)^2 - 12*l1^2*m2*sin(p)*sin(q1)^2 + l2^2*m2*cos(2*q1 - 2*q2)*sin(p) + 3*l2^2*m2*cos(q1 - q2)^2*sin(p) - 3*l2^2*m2*sin(q1 - q2)^2*sin(p) + 8*l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r) + 12*l1*l2*m2*cos(q1 - q2)*cos(q1)*sin(p) - 12*l1*l2*m2*sin(q1 - q2)*sin(p)*sin(q1) + 8*l1^2*m1*cos(p)*cos(q1)*cos(r)*sin(q1) + 24*l1^2*m2*cos(p)*cos(q1)*cos(r)*sin(q1) + 12*l1*l2*m2*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 12*l1*l2*m2*sin(q1 - q2)*cos(p)*cos(q1)*cos(r)))/24 + (sin(p)*sin(r)*(l1^2*m1 + 3*l1^2*m2 + l2^2*m2 + 3*l1*l2*m2*cos(q2)))/6) - (p_dot*(cos(2*r) - 1)*(l2^2*m2*sin(2*q1 - 2*q2) + l1^2*m1*sin(2*q1) + 3*l1^2*m2*sin(2*q1) + 3*l1*l2*m2*sin(2*q1 - q2)))/12 - (l1*l2*m2*q2_dot*cos(r)*sin(q2))/2, (l2^2*m2*y_dot*sin(2*q1))/6 - (l1^2*m2*y_dot*sin(2*q1))/2 - (l1^2*m1*y_dot*sin(2*q1))/6 - (l2^2*m2*y_dot*sin(2*q2))/6 - (l1*l2*m2*y_dot*sin(q2))/2 + (l1^2*m1*r_dot*cos(p)*cos(r))/3 + l1^2*m2*r_dot*cos(p)*cos(r) - (l2^2*m2*p_dot*sin(p)*sin(r))/3 - (l1^2*m1*p_dot*cos(q1)^2*sin(p)*sin(r))/3 - l1^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r) + (l2^2*m2*p_dot*cos(q1)^2*sin(p)*sin(r))/3 + (l2^2*m2*p_dot*cos(q2)^2*sin(p)*sin(r))/3 + (l1*l2*m2*y_dot*cos(p)^2*sin(q2))/2 + l1*l2*m2*y_dot*cos(q1)^2*sin(q2) - (l1^2*m1*y_dot*cos(p)*cos(r)*sin(p))/3 - l1^2*m2*y_dot*cos(p)*cos(r)*sin(p) + (l2^2*m2*y_dot*cos(p)*cos(r)*sin(p))/3 + (l1^2*m1*r_dot*cos(q1)*sin(p)*sin(q1))/3 + l1^2*m2*r_dot*cos(q1)*sin(p)*sin(q1) - (l2^2*m2*r_dot*cos(q1)*sin(p)*sin(q1))/3 + (l2^2*m2*r_dot*cos(q2)*sin(p)*sin(q2))/3 + (l1*l2*m2*r_dot*sin(p)*sin(q2))/2 - (l1^2*m1*r_dot*cos(p)*cos(q1)^2*cos(r))/3 - l1^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r) + (l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(r))/3 + (l2^2*m2*r_dot*cos(p)*cos(q2)^2*cos(r))/3 + (l1^2*m1*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 + l1^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1) - (l2^2*m2*y_dot*cos(p)^2*cos(q1)*sin(q1))/3 + (l2^2*m2*y_dot*cos(p)^2*cos(q2)*sin(q2))/3 - (2*l2^2*m2*y_dot*cos(q1)*cos(q2)^2*sin(q1))/3 + (2*l2^2*m2*y_dot*cos(q1)^2*cos(q2)*sin(q2))/3 - l1*l2*m2*r_dot*cos(q1)^2*sin(p)*sin(q2) - (2*l2^2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*sin(q2))/3 + (l1^2*m1*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 + l1^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1) - (l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(r)^2*sin(q1))/3 + (l2^2*m2*y_dot*cos(p)^2*cos(q2)*cos(r)^2*sin(q2))/3 - (2*l2^2*m2*p_dot*cos(q1)^2*cos(q2)^2*sin(p)*sin(r))/3 - l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*sin(q2) + (l1*l2*m2*y_dot*cos(p)^2*cos(r)^2*sin(q2))/2 + l1*l2*m2*r_dot*cos(p)*cos(q2)*cos(r) - l1*l2*m2*y_dot*cos(q1)*cos(q2)*sin(q1) - (l1*l2*m2*q2_dot*cos(p)*sin(q2)*sin(r))/2 + (2*l1^2*m1*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 + 2*l1^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p) - (2*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(r)*sin(p))/3 - (2*l2^2*m2*y_dot*cos(p)*cos(q2)^2*cos(r)*sin(p))/3 + (2*l2^2*m2*r_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1))/3 - (2*l2^2*m2*r_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2))/3 + (4*l2^2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r)*sin(p))/3 - (l1^2*m1*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 - l1^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r) + (l2^2*m2*p_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(r))/3 - (l2^2*m2*p_dot*cos(p)*cos(q2)*cos(r)*sin(q2)*sin(r))/3 + (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)^2*cos(r)^2*sin(q1))/3 - (2*l2^2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(q2)*cos(r)^2*sin(q2))/3 - l1*l2*m2*y_dot*cos(p)*cos(q2)*cos(r)*sin(p) - (l1*l2*m2*p_dot*cos(p)*cos(r)*sin(q2)*sin(r))/2 + l1*l2*m2*r_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) - l1*l2*m2*y_dot*cos(p)^2*cos(q1)^2*cos(r)^2*sin(q2) - l1*l2*m2*r_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) + l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*sin(q1) - l1*l2*m2*p_dot*cos(q1)^2*cos(q2)*sin(p)*sin(r) + l1*l2*m2*y_dot*cos(p)^2*cos(q1)*cos(q2)*cos(r)^2*sin(q1) - (2*l2^2*m2*r_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2))/3 - (2*l2^2*m2*p_dot*cos(q1)*cos(q2)*sin(p)*sin(q1)*sin(q2)*sin(r))/3 - l1*l2*m2*r_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - l1*l2*m2*p_dot*cos(q1)*sin(p)*sin(q1)*sin(q2)*sin(r) - (2*l2^2*m2*p_dot*cos(p)*cos(q1)*cos(q2)^2*cos(r)*sin(q1)*sin(r))/3 + (2*l2^2*m2*p_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(q2)*sin(r))/3 + 2*l1*l2*m2*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r)*sin(p) + l1*l2*m2*p_dot*cos(p)*cos(q1)^2*cos(r)*sin(q2)*sin(r) + (4*l2^2*m2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(p)*sin(q1)*sin(q2))/3 - l1*l2*m2*p_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(r) + 2*l1*l2*m2*y_dot*cos(p)*cos(q1)*cos(r)*sin(p)*sin(q1)*sin(q2), -(l1*l2*m2*q2_dot*sin(q2))/2, -(l1*l2*m2*sin(q2)*(q1_dot - q2_dot + p_dot*cos(r) + y_dot*cos(p)*sin(r)))/2;
0, 0, 0, -(l2*m2*(6*l1*y_dot*sin(p)*sin(q2) - 3*l1*r_dot*sin(q2) - 2*l2*p_dot*sin(r) + 3*l1*r_dot*cos(2*q1)*sin(q2) - 3*l1*r_dot*sin(2*q1)*cos(q2) + 2*l2*r_dot*cos(2*q1)*sin(2*q2) - 2*l2*r_dot*cos(2*q2)*sin(2*q1) - 3*l1*p_dot*cos(q2)*sin(r) + 4*l2*y_dot*cos(p)*cos(q1)^2*cos(r) + 4*l2*y_dot*cos(p)*cos(q2)^2*cos(r) + 3*l1*p_dot*cos(2*q1)*cos(q2)*sin(r) - 6*l1*y_dot*cos(q1)^2*sin(p)*sin(q2) + 3*l1*p_dot*sin(2*q1)*sin(q2)*sin(r) + 2*l2*p_dot*cos(2*q1)*cos(2*q2)*sin(r) + 2*l2*p_dot*sin(2*q1)*sin(2*q2)*sin(r) + 6*l1*y_dot*cos(p)*cos(q2)*cos(r) - 4*l2*y_dot*cos(q1)*sin(p)*sin(q1) + 4*l2*y_dot*cos(q2)*sin(p)*sin(q2) + 8*l2*y_dot*cos(q1)*cos(q2)^2*sin(p)*sin(q1) - 8*l2*y_dot*cos(q1)^2*cos(q2)*sin(p)*sin(q2) - 8*l2*y_dot*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) + 6*l1*y_dot*cos(q1)*cos(q2)*sin(p)*sin(q1) - 6*l1*y_dot*cos(p)*cos(q1)^2*cos(q2)*cos(r) - 6*l1*y_dot*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - 8*l2*y_dot*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/12, (l2*m2*p_dot*(9*l1*sin(q2) + 2*l2*cos(2*q1)*sin(2*q2) - 2*l2*cos(2*q2)*sin(2*q1) + 3*l1*cos(2*q1)*sin(q2) - 3*l1*sin(2*q1)*cos(q2) + 3*l1*cos(2*r)*sin(q2) - 3*l1*cos(2*q1)*cos(2*r)*sin(q2) + 3*l1*cos(2*r)*sin(2*q1)*cos(q2) - 2*l2*cos(2*q1)*cos(2*r)*sin(2*q2) + 2*l2*cos(2*q2)*cos(2*r)*sin(2*q1)))/24 + (l2*m2*y_dot*sin(r)*(4*l2*sin(p) + l2*cos(2*q1 - 2*q2)*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) + 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 + (l2*m2*r_dot*sin(r)*(2*l2 - 3*l1*cos(2*q1 - q2) - 2*l2*cos(2*q1 - 2*q2) + 3*l1*cos(q2)))/12 + (l1*l2*m2*q1_dot*cos(r)*sin(q2))/2, y_dot*((m2*(2*((sin(r)*sin(y) + cos(r)*cos(y)*sin(p))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) - cos(p)*cos(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(sin(r)*sin(y) + cos(r)*cos(y)*sin(p)))/2 + (l2*sin(q1 - q2)*cos(p)*cos(y))/2) + 2*((cos(y)*sin(r) - cos(r)*sin(p)*sin(y))*(l1*sin(q1) + (l2*sin(q1 - q2))/2) + cos(p)*sin(y)*(l1*cos(q1) + (l2*cos(q1 - q2))/2))*((l2*cos(q1 - q2)*(cos(y)*sin(r) - cos(r)*sin(p)*sin(y)))/2 - (l2*sin(q1 - q2)*cos(p)*sin(y))/2)))/2 + (sin(p)*((l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*sin(p))/6 - (l2^2*m2*cos(2*q1 - 2*q2)*cos(p)*cos(r))/12))/2 - (cos(p)*cos(r)*((l2^2*m2*cos(2*q1 - 2*q2)*sin(p))/12 + (l2^2*m2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r))/6))/2) - (l2*m2*r_dot*(3*l1*sin(p)*sin(q2) + 3*l1*cos(p)*cos(q2)*cos(r) - 2*l2*cos(q1)*sin(p)*sin(q1) + 2*l2*cos(q2)*sin(p)*sin(q2) + 2*l2*cos(p)*cos(q1)^2*cos(r) + 2*l2*cos(p)*cos(q2)^2*cos(r) - 3*l1*cos(q1)^2*sin(p)*sin(q2) + 3*l1*cos(q1)*cos(q2)*sin(p)*sin(q1) - 3*l1*cos(p)*cos(q1)^2*cos(q2)*cos(r) + 4*l2*cos(q1)*cos(q2)^2*sin(p)*sin(q1) - 4*l2*cos(q1)^2*cos(q2)*sin(p)*sin(q2) - 4*l2*cos(p)*cos(q1)^2*cos(q2)^2*cos(r) - 3*l1*cos(p)*cos(q1)*cos(r)*sin(q1)*sin(q2) - 4*l2*cos(p)*cos(q1)*cos(q2)*cos(r)*sin(q1)*sin(q2)))/6 + (l2*m2*p_dot*sin(r)*(4*l2*sin(p) + l2*cos(2*q1 - 2*q2)*sin(p) + 3*l2*cos(q1 - q2)^2*sin(p) - 3*l2*sin(q1 - q2)^2*sin(p) + 6*l1*cos(q2)*sin(p) + 6*l1*cos(q1 - q2)*cos(q1)*sin(p) - 6*l1*sin(q1 - q2)*sin(p)*sin(q1) + 12*l1*cos(q1 - q2)*cos(p)*cos(r)*sin(q1) + 8*l2*cos(q1 - q2)*sin(q1 - q2)*cos(p)*cos(r)))/24 + (l1*l2*m2*q1_dot*cos(p)*sin(q2)*sin(r))/2, (l1*l2*m2*sin(q2)*(q1_dot + p_dot*cos(r) + y_dot*cos(p)*sin(r)))/2, 0];
end
